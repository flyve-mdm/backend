---
layout: coverage
---
<html>

<head>
    <script src="assets/d3.js" charset="utf-8"></script>
    <script src="assets/dagre-d3.js"></script>
    <script src="assets/jquery.js"></script>
    <script src="assets/jquery.tablesorter.js"></script>
    <script src="assets/report.js"></script>

    <link rel="stylesheet" href="assets/font-awesome.min.css">
</head>

<body>

<nav class="navbar navbar-default">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="index.html"><img src="assets/logo.png" alt="atoum"/> Code coverage report</a>
        </div>
    </div>
</nav>

<div class="container-fluid">
    <div class="col-lg-12">
            <div class="row">
        <h1>CommonDBRelation: lines coverage</h1>

        


<table class="table table-bordered">
    <tr>
        
                    <td style="text-align: center; width: 100%">
                <h1 class="text-danger">
                    9%
                                            <small>of 619</small>
                                    </h1>
                <strong>Lines</strong>
            </td>
        
        
            </tr>
</table>

<table class="table table-bordered table-striped table-hover sort">
    <thead>
    <tr>
        <th>Method <i class="fa"></i></th>
                            <th style="text-align: center">Lines <i class="fa"></i></th>
            <th style="text-align: center">Line % <i class="fa"></i></th>
                            </tr>
    </thead>

    <tbody>
            <tr>
            <td><a href="#getSQLRequestToSearchForItem">CommonDBRelation::getSQLRequestToSearchForItem()</a></td>
                                        <td style="text-align: center">33</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getOpposite">CommonDBRelation::getOpposite()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getOppositeByTypeAndID">CommonDBRelation::getOppositeByTypeAndID()</a></td>
                                        <td style="text-align: center">25</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getOnePeer">CommonDBRelation::getOnePeer()</a></td>
                                        <td style="text-align: center">8</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getFromDBForItems">CommonDBRelation::getFromDBForItems()</a></td>
                                        <td style="text-align: center">14</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#isAttach2Valid">CommonDBRelation::isAttach2Valid()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#isAttach1Valid">CommonDBRelation::isAttach1Valid()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canRelation">CommonDBRelation::canRelation()</a></td>
                                        <td style="text-align: center">19</td>
                <td style="text-align: center">    
    <span class="label label-warning">68%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canRelationItem">CommonDBRelation::canRelationItem()</a></td>
                                        <td style="text-align: center">53</td>
                <td style="text-align: center">    
    <span class="label label-warning">51%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canCreate">CommonDBRelation::canCreate()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-warning">67%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canView">CommonDBRelation::canView()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-warning">67%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canUpdate">CommonDBRelation::canUpdate()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-warning">67%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canDelete">CommonDBRelation::canDelete()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-warning">67%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canPurge">CommonDBRelation::canPurge()</a></td>
                                        <td style="text-align: center">3</td>
                <td style="text-align: center">    
    <span class="label label-warning">67%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canCreateItem">CommonDBRelation::canCreateItem()</a></td>
                                        <td style="text-align: center">2</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canViewItem">CommonDBRelation::canViewItem()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canUpdateItem">CommonDBRelation::canUpdateItem()</a></td>
                                        <td style="text-align: center">2</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#canDeleteItem">CommonDBRelation::canDeleteItem()</a></td>
                                        <td style="text-align: center">2</td>
                <td style="text-align: center">    
    <span class="label label-success">100%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getHistoryNameForItem1">CommonDBRelation::getHistoryNameForItem1()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getHistoryNameForItem2">CommonDBRelation::getHistoryNameForItem2()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#cleanDBonMarkDeleted">CommonDBRelation::cleanDBonMarkDeleted()</a></td>
                                        <td style="text-align: center">25</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_restoreItem">CommonDBRelation::post_restoreItem()</a></td>
                                        <td style="text-align: center">25</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#post_deleteFromDB">CommonDBRelation::post_deleteFromDB()</a></td>
                                        <td style="text-align: center">23</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getHTMLTableHeader">CommonDBRelation::getHTMLTableHeader()</a></td>
                                        <td style="text-align: center">14</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getHTMLTableCellsForItem">CommonDBRelation::getHTMLTableCellsForItem()</a></td>
                                        <td style="text-align: center">20</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#affectRelation">CommonDBRelation::affectRelation()</a></td>
                                        <td style="text-align: center">9</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getRelationMassiveActionsSpecificities">CommonDBRelation::getRelationMassiveActionsSpecificities()</a></td>
                                        <td style="text-align: center">6</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showRelationMassiveActionsSubForm">CommonDBRelation::showRelationMassiveActionsSubForm()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getRelationMassiveActionsPeerForSubForm">CommonDBRelation::getRelationMassiveActionsPeerForSubForm()</a></td>
                                        <td style="text-align: center">10</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#showMassiveActionsSubForm">CommonDBRelation::showMassiveActionsSubForm()</a></td>
                                        <td style="text-align: center">47</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getRelationInputForProcessingOfMassiveActions">CommonDBRelation::getRelationInputForProcessingOfMassiveActions()</a></td>
                                        <td style="text-align: center">1</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#processMassiveActionsForOneItemtype">CommonDBRelation::processMassiveActionsForOneItemtype()</a></td>
                                        <td style="text-align: center">155</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getListForItemParams">CommonDBRelation::getListForItemParams()</a></td>
                                        <td style="text-align: center">33</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getListForItem">CommonDBRelation::getListForItem()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getDistinctTypesParams">CommonDBRelation::getDistinctTypesParams()</a></td>
                                        <td style="text-align: center">6</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getDistinctTypes">CommonDBRelation::getDistinctTypes()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTypeItemsQueryParams">CommonDBRelation::getTypeItemsQueryParams()</a></td>
                                        <td style="text-align: center">31</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#getTypeItems">CommonDBRelation::getTypeItems()</a></td>
                                        <td style="text-align: center">4</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#countForItem">CommonDBRelation::countForItem()</a></td>
                                        <td style="text-align: center">9</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
            <tr>
            <td><a href="#countForMainItem">CommonDBRelation::countForMainItem()</a></td>
                                        <td style="text-align: center">13</td>
                <td style="text-align: center">    
    <span class="label label-danger">0%</span>
</td>
                                            </tr>
        </tbody>
</table>

        <table class="table table-bordered table-stripped">
            <thead>
            <tr>
                <th>#</th>
                <th></th>
            </tr>
            </thead>

            <tbody>
                            <tr class="line" id="">
                    <th id="L1" class="number ">1</th>

                    <td class="" >
                        <pre>&lt;?php
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L2" class="number ">2</th>

                    <td class="" >
                        <pre>/**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L3" class="number ">3</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L4" class="number ">4</th>

                    <td class="" >
                        <pre> * GLPI - Gestionnaire Libre de Parc Informatique
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L5" class="number ">5</th>

                    <td class="" >
                        <pre> * Copyright (C) 2015-2018 Teclib&#039; and contributors.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L6" class="number ">6</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L7" class="number ">7</th>

                    <td class="" >
                        <pre> * http://glpi-project.org
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L8" class="number ">8</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L9" class="number ">9</th>

                    <td class="" >
                        <pre> * based on GLPI - Gestionnaire Libre de Parc Informatique
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L10" class="number ">10</th>

                    <td class="" >
                        <pre> * Copyright (C) 2003-2014 by the INDEPNET Development Team.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L11" class="number ">11</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L12" class="number ">12</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L13" class="number ">13</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L14" class="number ">14</th>

                    <td class="" >
                        <pre> * LICENSE
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L15" class="number ">15</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L16" class="number ">16</th>

                    <td class="" >
                        <pre> * This file is part of GLPI.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L17" class="number ">17</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L18" class="number ">18</th>

                    <td class="" >
                        <pre> * GLPI is free software; you can redistribute it and/or modify
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L19" class="number ">19</th>

                    <td class="" >
                        <pre> * it under the terms of the GNU General Public License as published by
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L20" class="number ">20</th>

                    <td class="" >
                        <pre> * the Free Software Foundation; either version 2 of the License, or
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L21" class="number ">21</th>

                    <td class="" >
                        <pre> * (at your option) any later version.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L22" class="number ">22</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L23" class="number ">23</th>

                    <td class="" >
                        <pre> * GLPI is distributed in the hope that it will be useful,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L24" class="number ">24</th>

                    <td class="" >
                        <pre> * but WITHOUT ANY WARRANTY; without even the implied warranty of
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L25" class="number ">25</th>

                    <td class="" >
                        <pre> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L26" class="number ">26</th>

                    <td class="" >
                        <pre> * GNU General Public License for more details.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L27" class="number ">27</th>

                    <td class="" >
                        <pre> *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L28" class="number ">28</th>

                    <td class="" >
                        <pre> * You should have received a copy of the GNU General Public License
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L29" class="number ">29</th>

                    <td class="" >
                        <pre> * along with GLPI. If not, see &lt;http://www.gnu.org/licenses/&gt;.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L30" class="number ">30</th>

                    <td class="" >
                        <pre> * ---------------------------------------------------------------------
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L31" class="number ">31</th>

                    <td class="" >
                        <pre> */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L32" class="number ">32</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L33" class="number ">33</th>

                    <td class="" >
                        <pre>if (!defined(&#039;GLPI_ROOT&#039;)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L34" class="number ">34</th>

                    <td class="" >
                        <pre>   die(&quot;Sorry. You can&#039;t access this file directly&quot;);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L35" class="number ">35</th>

                    <td class="" >
                        <pre>}
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L36" class="number ">36</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L37" class="number ">37</th>

                    <td class="" >
                        <pre>/// Common DataBase Relation Table Manager Class
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L38" class="number ">38</th>

                    <td class="" >
                        <pre>abstract class CommonDBRelation extends CommonDBConnexity {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L39" class="number ">39</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L40" class="number ">40</th>

                    <td class="" >
                        <pre>   // Item 1 information
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L41" class="number ">41</th>

                    <td class="" >
                        <pre>   // * definition
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L42" class="number ">42</th>

                    <td class="" >
                        <pre>   static public $itemtype_1; // Type ref or field name (must start with itemtype)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L43" class="number ">43</th>

                    <td class="" >
                        <pre>   static public $items_id_1; // Field name
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L44" class="number ">44</th>

                    <td class="" >
                        <pre>   // * entity inheritance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L45" class="number ">45</th>

                    <td class="" >
                        <pre>   static public $take_entity_1          = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L46" class="number ">46</th>

                    <td class="" >
                        <pre>   // * rights
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L47" class="number ">47</th>

                    <td class="" >
                        <pre>   static public $checkItem_1_Rights     = self::HAVE_SAME_RIGHT_ON_ITEM;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L48" class="number ">48</th>

                    <td class="" >
                        <pre>   static public $mustBeAttached_1       = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L49" class="number ">49</th>

                    <td class="" >
                        <pre>   // * log
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L50" class="number ">50</th>

                    <td class="" >
                        <pre>   static public $logs_for_item_1        = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L51" class="number ">51</th>

                    <td class="" >
                        <pre>   static public $log_history_1_add      = Log::HISTORY_ADD_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L52" class="number ">52</th>

                    <td class="" >
                        <pre>   static public $log_history_1_update   = Log::HISTORY_UPDATE_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L53" class="number ">53</th>

                    <td class="" >
                        <pre>   static public $log_history_1_delete   = Log::HISTORY_DEL_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L54" class="number ">54</th>

                    <td class="" >
                        <pre>   static public $log_history_1_lock     = Log::HISTORY_LOCK_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L55" class="number ">55</th>

                    <td class="" >
                        <pre>   static public $log_history_1_unlock   = Log::HISTORY_UNLOCK_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L56" class="number ">56</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L57" class="number ">57</th>

                    <td class="" >
                        <pre>   // Item 2 information
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L58" class="number ">58</th>

                    <td class="" >
                        <pre>   // * definition
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L59" class="number ">59</th>

                    <td class="" >
                        <pre>   static public $itemtype_2; // Type ref or field name (must start with itemtype)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L60" class="number ">60</th>

                    <td class="" >
                        <pre>   static public $items_id_2; // Field name
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L61" class="number ">61</th>

                    <td class="" >
                        <pre>   // * entity inheritance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L62" class="number ">62</th>

                    <td class="" >
                        <pre>   static public $take_entity_2          = false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L63" class="number ">63</th>

                    <td class="" >
                        <pre>   // * rights
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L64" class="number ">64</th>

                    <td class="" >
                        <pre>   static public $checkItem_2_Rights     = self::HAVE_SAME_RIGHT_ON_ITEM;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L65" class="number ">65</th>

                    <td class="" >
                        <pre>   static public $mustBeAttached_2       = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L66" class="number ">66</th>

                    <td class="" >
                        <pre>   // * log
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L67" class="number ">67</th>

                    <td class="" >
                        <pre>   static public $logs_for_item_2        = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L68" class="number ">68</th>

                    <td class="" >
                        <pre>   static public $log_history_2_add      = Log::HISTORY_ADD_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L69" class="number ">69</th>

                    <td class="" >
                        <pre>   static public $log_history_2_update   = Log::HISTORY_UPDATE_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L70" class="number ">70</th>

                    <td class="" >
                        <pre>   static public $log_history_2_delete   = Log::HISTORY_DEL_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L71" class="number ">71</th>

                    <td class="" >
                        <pre>   static public $log_history_2_lock     = Log::HISTORY_LOCK_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L72" class="number ">72</th>

                    <td class="" >
                        <pre>   static public $log_history_2_unlock   = Log::HISTORY_UNLOCK_RELATION;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L73" class="number ">73</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L74" class="number ">74</th>

                    <td class="" >
                        <pre>   // Relation between items to check
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L75" class="number ">75</th>

                    <td class="" >
                        <pre>   /// If both items must be checked for rights (default is only one)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L76" class="number ">76</th>

                    <td class="" >
                        <pre>   static public $checkAlwaysBothItems   = false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L77" class="number ">77</th>

                    <td class="" >
                        <pre>   /// If both items must be in viewable each other entities
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L78" class="number ">78</th>

                    <td class="" >
                        <pre>   static public $check_entity_coherency = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L79" class="number ">79</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L80" class="number ">80</th>

                    <td class="" >
                        <pre>   public $no_form_page                  = true;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L81" class="number ">81</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L82" class="number ">82</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L83" class="number ">83</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L84" class="number ">84</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L85" class="number ">85</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L86" class="number ">86</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L87" class="number ">87</th>

                    <td class="" >
                        <pre>    * @param $itemtype
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L88" class="number ">88</th>

                    <td class="" >
                        <pre>    * @param $items_id
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L89" class="number ">89</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L90" class="number ">90</th>

                    <td class="" >
                        <pre>    * @return string
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L91" class="number ">91</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getSQLRequestToSearchForItem">
                    <th id="L92" class="number ">92</th>

                    <td class="" id="getSQLRequestToSearchForItem">
                        <pre>   static function getSQLRequestToSearchForItem($itemtype, $items_id) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L93" class="number ">93</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L94" class="number uncovered">94</th>

                    <td class="uncovered" >
                        <pre>      $conditions = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L95" class="number uncovered">95</th>

                    <td class="uncovered" >
                        <pre>      $fields     = [&#039;`&#039;.static::getIndexName().&#039;`&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L96" class="number ">96</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L97" class="number ">97</th>

                    <td class="" >
                        <pre>      // Check item 1 type
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L98" class="number uncovered">98</th>

                    <td class="uncovered" >
                        <pre>      $condition_id_1 = &quot;`&quot;.static::$items_id_1.&quot;` = &#039;$items_id&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L99" class="number uncovered">99</th>

                    <td class="uncovered" >
                        <pre>      $fields[]       = &quot;`&quot;.static::$items_id_1.&quot;` as items_id_1&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L100" class="number uncovered">100</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L101" class="number uncovered">101</th>

                    <td class="uncovered" >
                        <pre>         $fields[]    = &quot;`&quot;.static::$itemtype_1.&quot;` AS itemtype_1&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L102" class="number uncovered">102</th>

                    <td class="uncovered" >
                        <pre>         $condition_1 = &quot;($condition_id_1 AND `&quot;.static::$itemtype_1.&quot;` = &#039;$itemtype&#039;)&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L103" class="number ">103</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L104" class="number uncovered">104</th>

                    <td class="uncovered" >
                        <pre>         $fields[] = &quot;&#039;&quot;.static::$itemtype_1.&quot;&#039; AS itemtype_1&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L105" class="number uncovered">105</th>

                    <td class="uncovered" >
                        <pre>         if (($itemtype ==  static::$itemtype_1)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L106" class="number uncovered">106</th>

                    <td class="uncovered" >
                        <pre>             || is_subclass_of($itemtype, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L107" class="number uncovered">107</th>

                    <td class="uncovered" >
                        <pre>            $condition_1 = $condition_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L108" class="number ">108</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L109" class="number ">109</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L110" class="number uncovered">110</th>

                    <td class="uncovered" >
                        <pre>      if (isset($condition_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L111" class="number uncovered">111</th>

                    <td class="uncovered" >
                        <pre>         $conditions[] = $condition_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L112" class="number uncovered">112</th>

                    <td class="uncovered" >
                        <pre>         $fields[]     = &quot;IF($condition_1, 1, 0) AS is_1&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L113" class="number ">113</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L114" class="number uncovered">114</th>

                    <td class="uncovered" >
                        <pre>         $fields[] = &quot;0 AS is_1&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L115" class="number ">115</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L116" class="number ">116</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L117" class="number ">117</th>

                    <td class="" >
                        <pre>      // Check item 2 type
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L118" class="number uncovered">118</th>

                    <td class="uncovered" >
                        <pre>      $condition_id_2 = &quot;`&quot;.static::$items_id_2.&quot;` = &#039;$items_id&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L119" class="number uncovered">119</th>

                    <td class="uncovered" >
                        <pre>      $fields[]       = &quot;`&quot;.static::$items_id_2.&quot;` as items_id_2&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L120" class="number uncovered">120</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L121" class="number uncovered">121</th>

                    <td class="uncovered" >
                        <pre>         $fields[]    = &quot;`&quot;.static::$itemtype_2.&quot;` AS itemtype_2&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L122" class="number uncovered">122</th>

                    <td class="uncovered" >
                        <pre>         $condition_2 = &quot;($condition_id_2 AND `&quot;.static::$itemtype_2.&quot;` = &#039;$itemtype&#039;)&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L123" class="number ">123</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L124" class="number uncovered">124</th>

                    <td class="uncovered" >
                        <pre>         $fields[] = &quot;&#039;&quot;.static::$itemtype_2.&quot;&#039; AS itemtype_2&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L125" class="number uncovered">125</th>

                    <td class="uncovered" >
                        <pre>         if (($itemtype ==  static::$itemtype_2)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L126" class="number uncovered">126</th>

                    <td class="uncovered" >
                        <pre>             || is_subclass_of($itemtype, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L127" class="number uncovered">127</th>

                    <td class="uncovered" >
                        <pre>            $condition_2 = $condition_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L128" class="number ">128</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L129" class="number ">129</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L130" class="number uncovered">130</th>

                    <td class="uncovered" >
                        <pre>      if (isset($condition_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L131" class="number uncovered">131</th>

                    <td class="uncovered" >
                        <pre>         $conditions[] = $condition_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L132" class="number uncovered">132</th>

                    <td class="uncovered" >
                        <pre>         $fields[]     = &quot;IF($condition_2, 2, 0) AS is_2&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L133" class="number ">133</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L134" class="number uncovered">134</th>

                    <td class="uncovered" >
                        <pre>         $fields[] = &quot;0 AS is_2&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L135" class="number ">135</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L136" class="number ">136</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L137" class="number uncovered">137</th>

                    <td class="uncovered" >
                        <pre>      if (count($conditions) != 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L138" class="number uncovered">138</th>

                    <td class="uncovered" >
                        <pre>         return &quot;SELECT &quot;.implode(&#039;, &#039;, $fields).&quot;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L139" class="number uncovered">139</th>

                    <td class="uncovered" >
                        <pre>                 FROM `&quot;.static::getTable().&quot;`</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L140" class="number uncovered">140</th>

                    <td class="uncovered" >
                        <pre>                 WHERE &quot;.implode(&#039; OR &#039;, $conditions).&quot;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L141" class="number ">141</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L142" class="number uncovered">142</th>

                    <td class="uncovered" >
                        <pre>      return &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L143" class="number unreach">143</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L144" class="number ">144</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L145" class="number ">145</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L146" class="number ">146</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L147" class="number ">147</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L148" class="number ">148</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L149" class="number ">149</th>

                    <td class="" >
                        <pre>    * @param $item            CommonDBTM object
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L150" class="number ">150</th>

                    <td class="" >
                        <pre>    * @param $relations_id    (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L151" class="number ">151</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getOpposite">
                    <th id="L152" class="number ">152</th>

                    <td class="" id="getOpposite">
                        <pre>   static function getOpposite(CommonDBTM $item, &amp;$relations_id = null) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L153" class="number uncovered">153</th>

                    <td class="uncovered" >
                        <pre>      return static::getOppositeByTypeAndID($item-&gt;getType(), $item-&gt;getID(), $relations_id);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L154" class="number unreach">154</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L155" class="number ">155</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L156" class="number ">156</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L157" class="number ">157</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L158" class="number ">158</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L159" class="number ">159</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L160" class="number ">160</th>

                    <td class="" >
                        <pre>    * @param $itemtype        Type of the item to search for its opposite
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L161" class="number ">161</th>

                    <td class="" >
                        <pre>    * @param $items_id        ID of the item to search for its opposite
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L162" class="number ">162</th>

                    <td class="" >
                        <pre>    * @param $relations_id    (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L163" class="number ">163</th>

                    <td class="" >
                        <pre>    **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getOppositeByTypeAndID">
                    <th id="L164" class="number ">164</th>

                    <td class="" id="getOppositeByTypeAndID">
                        <pre>   static function getOppositeByTypeAndID($itemtype, $items_id, &amp;$relations_id = null) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L165" class="number uncovered">165</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L166" class="number ">166</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L167" class="number uncovered">167</th>

                    <td class="uncovered" >
                        <pre>      if ($items_id &lt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L168" class="number uncovered">168</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L169" class="number ">169</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L170" class="number ">170</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L171" class="number uncovered">171</th>

                    <td class="uncovered" >
                        <pre>      $query = self::getSQLRequestToSearchForItem($itemtype, $items_id);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L172" class="number ">172</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L173" class="number uncovered">173</th>

                    <td class="uncovered" >
                        <pre>      if (!empty($query)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L174" class="number uncovered">174</th>

                    <td class="uncovered" >
                        <pre>         $result = $DB-&gt;query($query);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L175" class="number uncovered">175</th>

                    <td class="uncovered" >
                        <pre>         if ($DB-&gt;numrows($result) == 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L176" class="number uncovered">176</th>

                    <td class="uncovered" >
                        <pre>            $line = $DB-&gt;fetch_assoc($result);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L177" class="number uncovered">177</th>

                    <td class="uncovered" >
                        <pre>            if ($line[&#039;is_1&#039;] == $line[&#039;is_2&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L178" class="number uncovered">178</th>

                    <td class="uncovered" >
                        <pre>               return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L179" class="number ">179</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L180" class="number uncovered">180</th>

                    <td class="uncovered" >
                        <pre>            if ($line[&#039;is_1&#039;] == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L181" class="number uncovered">181</th>

                    <td class="uncovered" >
                        <pre>               $opposites_id = $line[&#039;items_id_1&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L182" class="number uncovered">182</th>

                    <td class="uncovered" >
                        <pre>               $oppositetype = $line[&#039;itemtype_1&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L183" class="number ">183</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L184" class="number uncovered">184</th>

                    <td class="uncovered" >
                        <pre>            if ($line[&#039;is_2&#039;] == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L185" class="number uncovered">185</th>

                    <td class="uncovered" >
                        <pre>               $opposites_id = $line[&#039;items_id_2&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L186" class="number uncovered">186</th>

                    <td class="uncovered" >
                        <pre>               $oppositetype = $line[&#039;itemtype_2&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L187" class="number ">187</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L188" class="number uncovered">188</th>

                    <td class="uncovered" >
                        <pre>            if ((isset($oppositetype)) &amp;&amp; (isset($opposites_id))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L189" class="number uncovered">189</th>

                    <td class="uncovered" >
                        <pre>               $opposite = getItemForItemtype($oppositetype);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L190" class="number uncovered">190</th>

                    <td class="uncovered" >
                        <pre>               if ($opposite !== false) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L191" class="number uncovered">191</th>

                    <td class="uncovered" >
                        <pre>                  if ($opposite-&gt;getFromDB($opposites_id)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L192" class="number uncovered">192</th>

                    <td class="uncovered" >
                        <pre>                     if (!is_null($relations_id)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L193" class="number uncovered">193</th>

                    <td class="uncovered" >
                        <pre>                        $relations_id = $line[static::getIndexName()];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L194" class="number ">194</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L195" class="number uncovered">195</th>

                    <td class="uncovered" >
                        <pre>                     return $opposite;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L196" class="number ">196</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L197" class="number uncovered">197</th>

                    <td class="uncovered" >
                        <pre>                  unset($opposite);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L198" class="number ">198</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L199" class="number ">199</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L200" class="number ">200</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L201" class="number ">201</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L202" class="number uncovered">202</th>

                    <td class="uncovered" >
                        <pre>      return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L203" class="number unreach">203</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L204" class="number ">204</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L205" class="number ">205</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L206" class="number ">206</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L207" class="number ">207</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L208" class="number ">208</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L209" class="number ">209</th>

                    <td class="" >
                        <pre>    * @param $number
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L210" class="number ">210</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L211" class="number ">211</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L212" class="number ">212</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getOnePeer">
                    <th id="L213" class="number ">213</th>

                    <td class="" id="getOnePeer">
                        <pre>   function getOnePeer($number) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L214" class="number ">214</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L215" class="number uncovered">215</th>

                    <td class="uncovered" >
                        <pre>      if ($number == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L216" class="number uncovered">216</th>

                    <td class="uncovered" >
                        <pre>         $itemtype = static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L217" class="number uncovered">217</th>

                    <td class="uncovered" >
                        <pre>         $items_id = static::$items_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L218" class="number uncovered">218</th>

                    <td class="uncovered" >
                        <pre>      } else if ($number == 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L219" class="number uncovered">219</th>

                    <td class="uncovered" >
                        <pre>         $itemtype = static::$itemtype_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L220" class="number uncovered">220</th>

                    <td class="uncovered" >
                        <pre>         $items_id = static::$items_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L221" class="number ">221</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L222" class="number uncovered">222</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L223" class="number ">223</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L224" class="number uncovered">224</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;getConnexityItem($itemtype, $items_id);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L225" class="number unreach">225</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L226" class="number ">226</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L227" class="number ">227</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L228" class="number ">228</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L229" class="number ">229</th>

                    <td class="" >
                        <pre>    * Get link object between 2 items
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L230" class="number ">230</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L231" class="number ">231</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L232" class="number ">232</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L233" class="number ">233</th>

                    <td class="" >
                        <pre>    * @param $item1 object 1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L234" class="number ">234</th>

                    <td class="" >
                        <pre>    * @param $item2 object 2
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L235" class="number ">235</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L236" class="number ">236</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L237" class="number ">237</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getFromDBForItems">
                    <th id="L238" class="number ">238</th>

                    <td class="" id="getFromDBForItems">
                        <pre>   function getFromDBForItems(CommonDBTM $item1, CommonDBTM $item2) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L239" class="number ">239</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L240" class="number ">240</th>

                    <td class="" >
                        <pre>      // Check items ID
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L241" class="number uncovered">241</th>

                    <td class="uncovered" >
                        <pre>      if (($item1-&gt;getID() &lt; 0) || ($item2-&gt;getID() &lt; 0)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L242" class="number uncovered">242</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L243" class="number ">243</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L244" class="number ">244</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L245" class="number uncovered">245</th>

                    <td class="uncovered" >
                        <pre>      $wheres = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L246" class="number uncovered">246</th>

                    <td class="uncovered" >
                        <pre>      $wheres[static::$items_id_1] = $item1-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L247" class="number uncovered">247</th>

                    <td class="uncovered" >
                        <pre>      $wheres[static::$items_id_2] = $item2-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L248" class="number ">248</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L249" class="number ">249</th>

                    <td class="" >
                        <pre>      // Check item 1 type
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L250" class="number uncovered">250</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L251" class="number uncovered">251</th>

                    <td class="uncovered" >
                        <pre>         $wheres[static::$itemtype_1] = $item1-&gt;getType();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L252" class="number uncovered">252</th>

                    <td class="uncovered" >
                        <pre>      } else if (!is_a($item1, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L253" class="number uncovered">253</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L254" class="number ">254</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L255" class="number ">255</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L256" class="number ">256</th>

                    <td class="" >
                        <pre>      // Check item 1 type
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L257" class="number uncovered">257</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L258" class="number uncovered">258</th>

                    <td class="uncovered" >
                        <pre>         $wheres[static::$itemtype_2] = $item2-&gt;getType();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L259" class="number uncovered">259</th>

                    <td class="uncovered" >
                        <pre>      } else if (!is_a($item2, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L260" class="number uncovered">260</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L261" class="number ">261</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L262" class="number uncovered">262</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;getFromDBByCrit($wheres);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L263" class="number unreach">263</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L264" class="number ">264</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L265" class="number ">265</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L266" class="number ">266</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L267" class="number ">267</th>

                    <td class="" >
                        <pre>    * Get search function for the class
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L268" class="number ">268</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L269" class="number ">269</th>

                    <td class="" >
                        <pre>    * @return array of search option
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L270" class="number ">270</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L271" class="number ">271</th>

                    <td class="" >
                        <pre>   function rawSearchOptions() {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L272" class="number ">272</th>

                    <td class="" >
                        <pre>      $tab = [];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L273" class="number ">273</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L274" class="number ">274</th>

                    <td class="" >
                        <pre>      $tab[] = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L275" class="number ">275</th>

                    <td class="" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;common&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L276" class="number ">276</th>

                    <td class="" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;Characteristics&#039;)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L277" class="number ">277</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L278" class="number ">278</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L279" class="number ">279</th>

                    <td class="" >
                        <pre>      $tab[] = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L280" class="number ">280</th>

                    <td class="" >
                        <pre>         &#039;id&#039;                 =&gt; &#039;2&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L281" class="number ">281</th>

                    <td class="" >
                        <pre>         &#039;table&#039;              =&gt; $this-&gt;getTable(),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L282" class="number ">282</th>

                    <td class="" >
                        <pre>         &#039;field&#039;              =&gt; &#039;id&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L283" class="number ">283</th>

                    <td class="" >
                        <pre>         &#039;name&#039;               =&gt; __(&#039;ID&#039;),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L284" class="number ">284</th>

                    <td class="" >
                        <pre>         &#039;massiveaction&#039;      =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L285" class="number ">285</th>

                    <td class="" >
                        <pre>         &#039;datatype&#039;           =&gt; &#039;number&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L286" class="number ">286</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L287" class="number ">287</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L288" class="number ">288</th>

                    <td class="" >
                        <pre>      if (!preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L289" class="number ">289</th>

                    <td class="" >
                        <pre>         $tab[] = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L290" class="number ">290</th>

                    <td class="" >
                        <pre>            &#039;id&#039;                 =&gt; &#039;3&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L291" class="number ">291</th>

                    <td class="" >
                        <pre>            &#039;table&#039;              =&gt; getTableForItemType(static::$itemtype_1),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L292" class="number ">292</th>

                    <td class="" >
                        <pre>            &#039;field&#039;              =&gt; static::$items_id_1,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L293" class="number ">293</th>

                    <td class="" >
                        <pre>            &#039;name&#039;               =&gt; call_user_func([static::$itemtype_1, &#039;getTypeName&#039;]),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L294" class="number ">294</th>

                    <td class="" >
                        <pre>            &#039;datatype&#039;           =&gt; &#039;text&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L295" class="number ">295</th>

                    <td class="" >
                        <pre>            &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L296" class="number ">296</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L297" class="number ">297</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L298" class="number ">298</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L299" class="number ">299</th>

                    <td class="" >
                        <pre>      if (!preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L300" class="number ">300</th>

                    <td class="" >
                        <pre>         $tab[] = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L301" class="number ">301</th>

                    <td class="" >
                        <pre>            &#039;id&#039;                 =&gt; &#039;4&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L302" class="number ">302</th>

                    <td class="" >
                        <pre>            &#039;table&#039;              =&gt; getTableForItemType(static::$itemtype_2),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L303" class="number ">303</th>

                    <td class="" >
                        <pre>            &#039;field&#039;              =&gt; static::$items_id_2,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L304" class="number ">304</th>

                    <td class="" >
                        <pre>            &#039;name&#039;               =&gt; call_user_func([static::$itemtype_2, &#039;getTypeName&#039;]),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L305" class="number ">305</th>

                    <td class="" >
                        <pre>            &#039;datatype&#039;           =&gt; &#039;text&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L306" class="number ">306</th>

                    <td class="" >
                        <pre>            &#039;massiveaction&#039;      =&gt; false
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L307" class="number ">307</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L308" class="number ">308</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L309" class="number ">309</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L310" class="number ">310</th>

                    <td class="" >
                        <pre>      return $tab;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L311" class="number ">311</th>

                    <td class="" >
                        <pre>   }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L312" class="number ">312</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L313" class="number ">313</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L314" class="number ">314</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L315" class="number ">315</th>

                    <td class="" >
                        <pre>    * Specific check for check attach for relation 2
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L316" class="number ">316</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L317" class="number ">317</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L318" class="number ">318</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L319" class="number ">319</th>

                    <td class="" >
                        <pre>    * @param $input Array of data to be added
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L320" class="number ">320</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L321" class="number ">321</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L322" class="number ">322</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="isAttach2Valid">
                    <th id="L323" class="number ">323</th>

                    <td class="" id="isAttach2Valid">
                        <pre>   function isAttach2Valid(Array &amp;$input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L324" class="number uncovered">324</th>

                    <td class="uncovered" >
                        <pre>      return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L325" class="number unreach">325</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L326" class="number ">326</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L327" class="number ">327</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L328" class="number ">328</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L329" class="number ">329</th>

                    <td class="" >
                        <pre>    * Specific check for check attach for relation 1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L330" class="number ">330</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L331" class="number ">331</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L332" class="number ">332</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L333" class="number ">333</th>

                    <td class="" >
                        <pre>    * @param $input Array of data to be added
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L334" class="number ">334</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L335" class="number ">335</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L336" class="number ">336</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="isAttach1Valid">
                    <th id="L337" class="number ">337</th>

                    <td class="" id="isAttach1Valid">
                        <pre>   function isAttach1Valid(Array &amp;$input) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L338" class="number uncovered">338</th>

                    <td class="uncovered" >
                        <pre>      return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L339" class="number unreach">339</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L340" class="number ">340</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L341" class="number ">341</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L342" class="number ">342</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L343" class="number ">343</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L344" class="number ">344</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L345" class="number ">345</th>

                    <td class="" >
                        <pre>    * @param $method
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L346" class="number ">346</th>

                    <td class="" >
                        <pre>    * @param $forceCheckBoth boolean force check both items(false by default)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L347" class="number ">347</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L348" class="number ">348</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L349" class="number ">349</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canRelation">
                    <th id="L350" class="number ">350</th>

                    <td class="" id="canRelation">
                        <pre>   static function canRelation($method, $forceCheckBoth = false) {<span class="label label-warning">68%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L351" class="number ">351</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L352" class="number covered">352</th>

                    <td class="covered" >
                        <pre>      $can1 = static::canConnexity($method, static::$checkItem_1_Rights, static::$itemtype_1,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L353" class="number covered">353</th>

                    <td class="covered" >
                        <pre>                                   static::$items_id_1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L354" class="number covered">354</th>

                    <td class="covered" >
                        <pre>      $can2 = static::canConnexity($method, static::$checkItem_2_Rights, static::$itemtype_2,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L355" class="number covered">355</th>

                    <td class="covered" >
                        <pre>                                   static::$items_id_2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L356" class="number ">356</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L357" class="number ">357</th>

                    <td class="" >
                        <pre>      /// Check only one if SAME RIGHT for both items and not force checkBoth
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L358" class="number covered">358</th>

                    <td class="covered" >
                        <pre>      if (((static::HAVE_SAME_RIGHT_ON_ITEM == static::$checkItem_1_Rights)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L359" class="number covered">359</th>

                    <td class="covered" >
                        <pre>           &amp;&amp; (static::HAVE_SAME_RIGHT_ON_ITEM == static::$checkItem_2_Rights))</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L360" class="number covered">360</th>

                    <td class="covered" >
                        <pre>          &amp;&amp; !$forceCheckBoth) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L361" class="number covered">361</th>

                    <td class="covered" >
                        <pre>         if ($can1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L362" class="number ">362</th>

                    <td class="" >
                        <pre>            // Can view the second one ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L363" class="number covered">363</th>

                    <td class="covered" >
                        <pre>            if (!static::canConnexity($method, static::HAVE_VIEW_RIGHT_ON_ITEM, static::$itemtype_2,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L364" class="number covered">364</th>

                    <td class="covered" >
                        <pre>                                      static::$items_id_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L365" class="number covered">365</th>

                    <td class="covered" >
                        <pre>               return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L366" class="number ">366</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L367" class="number covered">367</th>

                    <td class="covered" >
                        <pre>            return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L368" class="number uncovered">368</th>

                    <td class="uncovered" >
                        <pre>         } else if ($can2) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L369" class="number ">369</th>

                    <td class="" >
                        <pre>            // Can view the first one ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L370" class="number uncovered">370</th>

                    <td class="uncovered" >
                        <pre>            if (!static::canConnexity($method, static::HAVE_VIEW_RIGHT_ON_ITEM, static::$itemtype_1,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L371" class="number uncovered">371</th>

                    <td class="uncovered" >
                        <pre>                                      static::$items_id_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L372" class="number uncovered">372</th>

                    <td class="uncovered" >
                        <pre>               return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L373" class="number ">373</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L374" class="number uncovered">374</th>

                    <td class="uncovered" >
                        <pre>            return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L375" class="number ">375</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L376" class="number ">376</th>

                    <td class="" >
                        <pre>            // No item have right
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L377" class="number uncovered">377</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L378" class="number ">378</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L379" class="number ">379</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L380" class="number ">380</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L381" class="number covered">381</th>

                    <td class="covered" >
                        <pre>      return ($can1 &amp;&amp; $can2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L382" class="number ">382</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L383" class="number unreach">383</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L384" class="number ">384</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L385" class="number ">385</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L386" class="number ">386</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L387" class="number ">387</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L388" class="number ">388</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L389" class="number ">389</th>

                    <td class="" >
                        <pre>    * @param $method
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L390" class="number ">390</th>

                    <td class="" >
                        <pre>    * @param $methodNotItem
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L391" class="number ">391</th>

                    <td class="" >
                        <pre>    * @param $check_entity            (true by default)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L392" class="number ">392</th>

                    <td class="" >
                        <pre>    * @param $forceCheckBoth boolean  force check both items (false by default)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L393" class="number ">393</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L394" class="number ">394</th>

                    <td class="" >
                        <pre>    * @return boolean
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L395" class="number ">395</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canRelationItem">
                    <th id="L396" class="number ">396</th>

                    <td class="" id="canRelationItem">
                        <pre>   function canRelationItem($method, $methodNotItem, $check_entity = true, $forceCheckBoth = false) {<span class="label label-warning">51%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L397" class="number ">397</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L398" class="number covered">398</th>

                    <td class="covered" >
                        <pre>      $OneWriteIsEnough = (!$forceCheckBoth</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L399" class="number covered">399</th>

                    <td class="covered" >
                        <pre>                           &amp;&amp; ((static::HAVE_SAME_RIGHT_ON_ITEM == static::$checkItem_1_Rights)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L400" class="number covered">400</th>

                    <td class="covered" >
                        <pre>                               || (static::HAVE_SAME_RIGHT_ON_ITEM == static::$checkItem_2_Rights)));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L401" class="number ">401</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L402" class="number ">402</th>

                    <td class="" >
                        <pre>      try {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L403" class="number covered">403</th>

                    <td class="covered" >
                        <pre>         $item1 = null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L404" class="number covered">404</th>

                    <td class="covered" >
                        <pre>         $can1  = $this-&gt;canConnexityItem($method, $methodNotItem, static::$checkItem_1_Rights,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L405" class="number covered">405</th>

                    <td class="covered" >
                        <pre>                                          static::$itemtype_1, static::$items_id_1, $item1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L406" class="number covered">406</th>

                    <td class="covered" >
                        <pre>         if ($OneWriteIsEnough) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L407" class="number covered">407</th>

                    <td class="covered" >
                        <pre>            $view1 = $this-&gt;canConnexityItem($method, $methodNotItem,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L408" class="number covered">408</th>

                    <td class="covered" >
                        <pre>                                             static::HAVE_VIEW_RIGHT_ON_ITEM, static::$itemtype_1,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L409" class="number covered">409</th>

                    <td class="covered" >
                        <pre>                                             static::$items_id_1, $item1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L410" class="number ">410</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L411" class="number uncovered">411</th>

                    <td class="uncovered" >
                        <pre>      } catch (CommonDBConnexityItemNotFound $e) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L412" class="number uncovered">412</th>

                    <td class="uncovered" >
                        <pre>         if (static::$mustBeAttached_1 &amp;&amp; !static::isAttach1Valid($this-&gt;fields)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L413" class="number uncovered">413</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L414" class="number ">414</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L415" class="number uncovered">415</th>

                    <td class="uncovered" >
                        <pre>         $can1         = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L416" class="number uncovered">416</th>

                    <td class="uncovered" >
                        <pre>         $view1        = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L417" class="number uncovered">417</th>

                    <td class="uncovered" >
                        <pre>         $check_entity = false; // If no item, then, we cannot check entities</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L418" class="number ">418</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L419" class="number ">419</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L420" class="number ">420</th>

                    <td class="" >
                        <pre>      try {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L421" class="number covered">421</th>

                    <td class="covered" >
                        <pre>         $item2 = null;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L422" class="number covered">422</th>

                    <td class="covered" >
                        <pre>         $can2  = $this-&gt;canConnexityItem($method, $methodNotItem, static::$checkItem_2_Rights,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L423" class="number covered">423</th>

                    <td class="covered" >
                        <pre>                                          static::$itemtype_2, static::$items_id_2, $item2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L424" class="number covered">424</th>

                    <td class="covered" >
                        <pre>         if ($OneWriteIsEnough) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L425" class="number covered">425</th>

                    <td class="covered" >
                        <pre>            $view2 = $this-&gt;canConnexityItem($method, $methodNotItem,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L426" class="number covered">426</th>

                    <td class="covered" >
                        <pre>                                             static::HAVE_VIEW_RIGHT_ON_ITEM, static::$itemtype_2,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L427" class="number covered">427</th>

                    <td class="covered" >
                        <pre>                                             static::$items_id_2, $item2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L428" class="number ">428</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L429" class="number uncovered">429</th>

                    <td class="uncovered" >
                        <pre>      } catch (CommonDBConnexityItemNotFound $e) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L430" class="number uncovered">430</th>

                    <td class="uncovered" >
                        <pre>         if (static::$mustBeAttached_2 &amp;&amp; !static::isAttach2Valid($this-&gt;fields)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L431" class="number uncovered">431</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L432" class="number ">432</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L433" class="number uncovered">433</th>

                    <td class="uncovered" >
                        <pre>         $can2         = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L434" class="number uncovered">434</th>

                    <td class="uncovered" >
                        <pre>         $view2        = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L435" class="number uncovered">435</th>

                    <td class="uncovered" >
                        <pre>         $check_entity = false; // If no item, then, we cannot check entities</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L436" class="number ">436</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L437" class="number ">437</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L438" class="number covered">438</th>

                    <td class="covered" >
                        <pre>      if ($OneWriteIsEnough) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L439" class="number covered">439</th>

                    <td class="covered" >
                        <pre>         if ((!$can1 &amp;&amp; !$can2)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L440" class="number covered">440</th>

                    <td class="covered" >
                        <pre>             || ($can1 &amp;&amp; !$view2)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L441" class="number covered">441</th>

                    <td class="covered" >
                        <pre>             || ($can2 &amp;&amp; !$view1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L442" class="number covered">442</th>

                    <td class="covered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L443" class="number ">443</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L444" class="number ">444</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L445" class="number uncovered">445</th>

                    <td class="uncovered" >
                        <pre>         if (!$can1 || !$can2) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L446" class="number uncovered">446</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L447" class="number ">447</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L448" class="number ">448</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L449" class="number ">449</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L450" class="number ">450</th>

                    <td class="" >
                        <pre>      // Check coherency of entities
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L451" class="number covered">451</th>

                    <td class="covered" >
                        <pre>      if ($check_entity &amp;&amp; static::$check_entity_coherency) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L452" class="number ">452</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L453" class="number ">453</th>

                    <td class="" >
                        <pre>         // If one of both extremity is not valid =&gt; not allowed !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L454" class="number ">454</th>

                    <td class="" >
                        <pre>         // (default is only to check on create and update not for view and delete)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L455" class="number covered">455</th>

                    <td class="covered" >
                        <pre>         if ((!$item1 instanceof CommonDBTM)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L456" class="number covered">456</th>

                    <td class="covered" >
                        <pre>             || (!$item2 instanceof CommonDBTM)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L457" class="number uncovered">457</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L458" class="number ">458</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L459" class="number covered">459</th>

                    <td class="covered" >
                        <pre>         if ($item1-&gt;isEntityAssign() &amp;&amp; $item2-&gt;isEntityAssign()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L460" class="number uncovered">460</th>

                    <td class="uncovered" >
                        <pre>            $entity1 = $item1-&gt;getEntityID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L461" class="number uncovered">461</th>

                    <td class="uncovered" >
                        <pre>            $entity2 = $item2-&gt;getEntityID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L462" class="number ">462</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L463" class="number uncovered">463</th>

                    <td class="uncovered" >
                        <pre>            if ($entity1 == $entity2) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L464" class="number uncovered">464</th>

                    <td class="uncovered" >
                        <pre>               return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L465" class="number ">465</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L466" class="number uncovered">466</th>

                    <td class="uncovered" >
                        <pre>            if (($item1-&gt;isRecursive())</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L467" class="number uncovered">467</th>

                    <td class="uncovered" >
                        <pre>                &amp;&amp; in_array($entity1, getAncestorsOf(&quot;glpi_entities&quot;, $entity2))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L468" class="number uncovered">468</th>

                    <td class="uncovered" >
                        <pre>               return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L469" class="number ">469</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L470" class="number uncovered">470</th>

                    <td class="uncovered" >
                        <pre>            if (($item2-&gt;isRecursive())</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L471" class="number uncovered">471</th>

                    <td class="uncovered" >
                        <pre>                &amp;&amp; in_array($entity2, getAncestorsOf(&quot;glpi_entities&quot;, $entity1))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L472" class="number uncovered">472</th>

                    <td class="uncovered" >
                        <pre>               return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L473" class="number ">473</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L474" class="number uncovered">474</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L475" class="number ">475</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L476" class="number ">476</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L477" class="number ">477</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L478" class="number covered">478</th>

                    <td class="covered" >
                        <pre>      return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L479" class="number unreach">479</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L480" class="number ">480</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L481" class="number ">481</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L482" class="number ">482</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L483" class="number ">483</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L484" class="number ">484</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canCreate">
                    <th id="L485" class="number ">485</th>

                    <td class="" id="canCreate">
                        <pre>   static function canCreate() {<span class="label label-warning">67%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L486" class="number ">486</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L487" class="number covered">487</th>

                    <td class="covered" >
                        <pre>      if ((static::$rightname) &amp;&amp; (!Session::haveRight(static::$rightname, CREATE))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L488" class="number uncovered">488</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L489" class="number ">489</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L490" class="number covered">490</th>

                    <td class="covered" >
                        <pre>      return static::canRelation(&#039;canUpdate&#039;, static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L491" class="number unreach">491</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L492" class="number ">492</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L493" class="number ">493</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L494" class="number ">494</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L495" class="number ">495</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L496" class="number ">496</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canView">
                    <th id="L497" class="number ">497</th>

                    <td class="" id="canView">
                        <pre>   static function canView() {<span class="label label-warning">67%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L498" class="number covered">498</th>

                    <td class="covered" >
                        <pre>      if ((static::$rightname) &amp;&amp; (!Session::haveRight(static::$rightname, READ))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L499" class="number uncovered">499</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L500" class="number ">500</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L501" class="number ">501</th>

                    <td class="" >
                        <pre>      // Always both checks for view
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L502" class="number covered">502</th>

                    <td class="covered" >
                        <pre>      return static::canRelation(&#039;canView&#039;, true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L503" class="number unreach">503</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L504" class="number ">504</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L505" class="number ">505</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L506" class="number ">506</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L507" class="number ">507</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L508" class="number ">508</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canUpdate">
                    <th id="L509" class="number ">509</th>

                    <td class="" id="canUpdate">
                        <pre>   static function canUpdate() {<span class="label label-warning">67%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L510" class="number covered">510</th>

                    <td class="covered" >
                        <pre>      if ((static::$rightname) &amp;&amp; (!Session::haveRight(static::$rightname, UPDATE))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L511" class="number uncovered">511</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L512" class="number ">512</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L513" class="number covered">513</th>

                    <td class="covered" >
                        <pre>      return static::canRelation(&#039;canUpdate&#039;, static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L514" class="number unreach">514</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L515" class="number ">515</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L516" class="number ">516</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L517" class="number ">517</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L518" class="number ">518</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L519" class="number ">519</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canDelete">
                    <th id="L520" class="number ">520</th>

                    <td class="" id="canDelete">
                        <pre>   static function canDelete() {<span class="label label-warning">67%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L521" class="number covered">521</th>

                    <td class="covered" >
                        <pre>      if ((static::$rightname) &amp;&amp; (!Session::haveRight(static::$rightname, DELETE))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L522" class="number uncovered">522</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L523" class="number ">523</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L524" class="number covered">524</th>

                    <td class="covered" >
                        <pre>      return static::canRelation(&#039;canUpdate&#039;, static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L525" class="number unreach">525</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L526" class="number ">526</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L527" class="number ">527</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L528" class="number ">528</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L529" class="number ">529</th>

                    <td class="" >
                        <pre>    * @since 0.85
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L530" class="number ">530</th>

                    <td class="" >
                        <pre>    **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canPurge">
                    <th id="L531" class="number ">531</th>

                    <td class="" id="canPurge">
                        <pre>   static function canPurge() {<span class="label label-warning">67%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L532" class="number covered">532</th>

                    <td class="covered" >
                        <pre>      if ((static::$rightname) &amp;&amp; (!Session::haveRight(static::$rightname, PURGE))) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L533" class="number uncovered">533</th>

                    <td class="uncovered" >
                        <pre>         return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L534" class="number ">534</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L535" class="number covered">535</th>

                    <td class="covered" >
                        <pre>      return static::canRelation(&#039;canUpdate&#039;, static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L536" class="number unreach">536</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L537" class="number ">537</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L538" class="number ">538</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L539" class="number ">539</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L540" class="number ">540</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L541" class="number ">541</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canCreateItem">
                    <th id="L542" class="number ">542</th>

                    <td class="" id="canCreateItem">
                        <pre>   function canCreateItem() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L543" class="number ">543</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L544" class="number covered">544</th>

                    <td class="covered" >
                        <pre>      return $this-&gt;canRelationItem(&#039;canUpdateItem&#039;, &#039;canUpdate&#039;, true,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L545" class="number covered">545</th>

                    <td class="covered" >
                        <pre>                                    static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L546" class="number unreach">546</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L547" class="number ">547</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L548" class="number ">548</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L549" class="number ">549</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L550" class="number ">550</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L551" class="number ">551</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canViewItem">
                    <th id="L552" class="number ">552</th>

                    <td class="" id="canViewItem">
                        <pre>   function canViewItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L553" class="number uncovered">553</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;canRelationItem(&#039;canViewItem&#039;, &#039;canView&#039;, false, true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L554" class="number unreach">554</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L555" class="number ">555</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L556" class="number ">556</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L557" class="number ">557</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L558" class="number ">558</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L559" class="number ">559</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canUpdateItem">
                    <th id="L560" class="number ">560</th>

                    <td class="" id="canUpdateItem">
                        <pre>   function canUpdateItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L561" class="number ">561</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L562" class="number uncovered">562</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;canRelationItem(&#039;canUpdateItem&#039;, &#039;canUpdate&#039;, true,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L563" class="number uncovered">563</th>

                    <td class="uncovered" >
                        <pre>                                    static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L564" class="number unreach">564</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L565" class="number ">565</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L566" class="number ">566</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L567" class="number ">567</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L568" class="number ">568</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L569" class="number ">569</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="canDeleteItem">
                    <th id="L570" class="number ">570</th>

                    <td class="" id="canDeleteItem">
                        <pre>   function canDeleteItem() {<span class="label label-success">100%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L571" class="number ">571</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L572" class="number covered">572</th>

                    <td class="covered" >
                        <pre>      return $this-&gt;canRelationItem(&#039;canUpdateItem&#039;, &#039;canUpdate&#039;, false,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L573" class="number covered">573</th>

                    <td class="covered" >
                        <pre>                                    static::$checkAlwaysBothItems);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L574" class="number unreach">574</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L575" class="number ">575</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L576" class="number ">576</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L577" class="number ">577</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L578" class="number ">578</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L579" class="number ">579</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L580" class="number ">580</th>

                    <td class="" >
                        <pre>   function addNeededInfoToInput($input) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L581" class="number ">581</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L582" class="number ">582</th>

                    <td class="" >
                        <pre>      // is entity missing and forwarding on ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L583" class="number ">583</th>

                    <td class="" >
                        <pre>      if ($this-&gt;tryEntityForwarding() &amp;&amp; !isset($input[&#039;entities_id&#039;])) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L584" class="number ">584</th>

                    <td class="" >
                        <pre>         // Merge both arrays to ensure all the fields are defined for the following checks
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L585" class="number ">585</th>

                    <td class="" >
                        <pre>         $completeinput = array_merge($this-&gt;fields, $input);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L586" class="number ">586</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L587" class="number ">587</th>

                    <td class="" >
                        <pre>         $itemToGetEntity = false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L588" class="number ">588</th>

                    <td class="" >
                        <pre>         // Set the item to allow parent::prepareinputforadd to get the right item ...
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L589" class="number ">589</th>

                    <td class="" >
                        <pre>         if (static::$take_entity_1) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L590" class="number ">590</th>

                    <td class="" >
                        <pre>            $itemToGetEntity = static::getItemFromArray(static::$itemtype_1, static::$items_id_1,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L591" class="number ">591</th>

                    <td class="" >
                        <pre>                                                        $completeinput);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L592" class="number ">592</th>

                    <td class="" >
                        <pre>         } else if (static::$take_entity_2) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L593" class="number ">593</th>

                    <td class="" >
                        <pre>            $itemToGetEntity = static::getItemFromArray(static::$itemtype_2, static::$items_id_2,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L594" class="number ">594</th>

                    <td class="" >
                        <pre>                                                        $completeinput);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L595" class="number ">595</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L596" class="number ">596</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L597" class="number ">597</th>

                    <td class="" >
                        <pre>         // Set the item to allow parent::prepareinputforadd to get the right item ...
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L598" class="number ">598</th>

                    <td class="" >
                        <pre>         if (($itemToGetEntity instanceof CommonDBTM)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L599" class="number ">599</th>

                    <td class="" >
                        <pre>            &amp;&amp; $itemToGetEntity-&gt;isEntityForwardTo(get_called_class())) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L600" class="number ">600</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L601" class="number ">601</th>

                    <td class="" >
                        <pre>            $input[&#039;entities_id&#039;]  = $itemToGetEntity-&gt;getEntityID();
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L602" class="number ">602</th>

                    <td class="" >
                        <pre>            $input[&#039;is_recursive&#039;] = intval($itemToGetEntity-&gt;isRecursive());
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L603" class="number ">603</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L604" class="number ">604</th>

                    <td class="" >
                        <pre>         } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L605" class="number ">605</th>

                    <td class="" >
                        <pre>            // No entity link : set default values
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L606" class="number ">606</th>

                    <td class="" >
                        <pre>            $input[&#039;entities_id&#039;]  = 0;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L607" class="number ">607</th>

                    <td class="" >
                        <pre>            $input[&#039;is_recursive&#039;] = 0;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L608" class="number ">608</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L609" class="number ">609</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L610" class="number ">610</th>

                    <td class="" >
                        <pre>      return $input;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L611" class="number ">611</th>

                    <td class="" >
                        <pre>   }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L612" class="number ">612</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L613" class="number ">613</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L614" class="number ">614</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L615" class="number ">615</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L616" class="number ">616</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L617" class="number ">617</th>

                    <td class="" >
                        <pre>    * @param $input
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L618" class="number ">618</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L619" class="number ">619</th>

                    <td class="" >
                        <pre>   function prepareInputForAdd($input) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L620" class="number ">620</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L621" class="number ">621</th>

                    <td class="" >
                        <pre>      if (!is_array($input)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L622" class="number ">622</th>

                    <td class="" >
                        <pre>         return false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L623" class="number ">623</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L624" class="number ">624</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L625" class="number ">625</th>

                    <td class="" >
                        <pre>      return $this-&gt;addNeededInfoToInput($input);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L626" class="number ">626</th>

                    <td class="" >
                        <pre>   }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L627" class="number ">627</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L628" class="number ">628</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L629" class="number ">629</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L630" class="number ">630</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L631" class="number ">631</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L632" class="number ">632</th>

                    <td class="" >
                        <pre>   function prepareInputForUpdate($input) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L633" class="number ">633</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L634" class="number ">634</th>

                    <td class="" >
                        <pre>      if (!is_array($input)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L635" class="number ">635</th>

                    <td class="" >
                        <pre>         return false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L636" class="number ">636</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L637" class="number ">637</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L638" class="number ">638</th>

                    <td class="" >
                        <pre>      // True if item changed
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L639" class="number ">639</th>

                    <td class="" >
                        <pre>      if (!parent::checkAttachedItemChangesAllowed($input, [static::$itemtype_1,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L640" class="number ">640</th>

                    <td class="" >
                        <pre>                                                                 static::$items_id_1,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L641" class="number ">641</th>

                    <td class="" >
                        <pre>                                                                 static::$itemtype_2,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L642" class="number ">642</th>

                    <td class="" >
                        <pre>                                                                 static::$items_id_2])) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L643" class="number ">643</th>

                    <td class="" >
                        <pre>         return false;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L644" class="number ">644</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L645" class="number ">645</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L646" class="number ">646</th>

                    <td class="" >
                        <pre>      return parent::addNeededInfoToInput($input);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L647" class="number ">647</th>

                    <td class="" >
                        <pre>   }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L648" class="number ">648</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L649" class="number ">649</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L650" class="number ">650</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L651" class="number ">651</th>

                    <td class="" >
                        <pre>    * Get the history name of first item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L652" class="number ">652</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L653" class="number ">653</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L654" class="number ">654</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L655" class="number ">655</th>

                    <td class="" >
                        <pre>    * @param $item    CommonDBTM object   the other item (ie. : $item2)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L656" class="number ">656</th>

                    <td class="" >
                        <pre>    * @param $case : can be overwrite by object
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L657" class="number ">657</th>

                    <td class="" >
                        <pre>    *              - &#039;add&#039; when this CommonDBRelation is added (to and item)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L658" class="number ">658</th>

                    <td class="" >
                        <pre>    *              - &#039;update item previous&#039; transfert : this is removed from the old item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L659" class="number ">659</th>

                    <td class="" >
                        <pre>    *              - &#039;update item next&#039; transfert : this is added to the new item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L660" class="number ">660</th>

                    <td class="" >
                        <pre>    *              - &#039;delete&#039; when this CommonDBRelation is remove (from an item)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L661" class="number ">661</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L662" class="number ">662</th>

                    <td class="" >
                        <pre>    * @return (string) the name of the entry for the database (ie. : correctly slashed)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L663" class="number ">663</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getHistoryNameForItem1">
                    <th id="L664" class="number ">664</th>

                    <td class="" id="getHistoryNameForItem1">
                        <pre>   function getHistoryNameForItem1(CommonDBTM $item, $case) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L665" class="number ">665</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L666" class="number uncovered">666</th>

                    <td class="uncovered" >
                        <pre>      return $item-&gt;getNameID([&#039;forceid&#039;    =&gt; true,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L667" class="number ">667</th>

                    <td class="" >
                        <pre>                                    &#039;additional&#039; =&gt; true]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L668" class="number unreach">668</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L669" class="number ">669</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L670" class="number ">670</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L671" class="number ">671</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L672" class="number ">672</th>

                    <td class="" >
                        <pre>    * Get the history name of second item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L673" class="number ">673</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L674" class="number ">674</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L675" class="number ">675</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L676" class="number ">676</th>

                    <td class="" >
                        <pre>    * @param $item the other item (ie. : $item1)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L677" class="number ">677</th>

                    <td class="" >
                        <pre>    * @param $case : can be overwrite by object
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L678" class="number ">678</th>

                    <td class="" >
                        <pre>    *              - &#039;add&#039; when this CommonDBRelation is added (to and item)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L679" class="number ">679</th>

                    <td class="" >
                        <pre>    *              - &#039;update item previous&#039; transfert : this is removed from the old item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L680" class="number ">680</th>

                    <td class="" >
                        <pre>    *              - &#039;update item next&#039; transfert : this is added to the new item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L681" class="number ">681</th>

                    <td class="" >
                        <pre>    *              - &#039;delete&#039; when this CommonDBRelation is remove (from an item)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L682" class="number ">682</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L683" class="number ">683</th>

                    <td class="" >
                        <pre>    * @return (string) the name of the entry for the database (ie. : correctly slashed)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L684" class="number ">684</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getHistoryNameForItem2">
                    <th id="L685" class="number ">685</th>

                    <td class="" id="getHistoryNameForItem2">
                        <pre>   function getHistoryNameForItem2(CommonDBTM $item, $case) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L686" class="number ">686</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L687" class="number uncovered">687</th>

                    <td class="uncovered" >
                        <pre>      return $item-&gt;getNameID([&#039;forceid&#039;    =&gt; true,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L688" class="number ">688</th>

                    <td class="" >
                        <pre>                                    &#039;additional&#039; =&gt; true]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L689" class="number unreach">689</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L690" class="number ">690</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L691" class="number ">691</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L692" class="number ">692</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L693" class="number ">693</th>

                    <td class="" >
                        <pre>    * Actions done after the ADD of the item in the database
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L694" class="number ">694</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L695" class="number ">695</th>

                    <td class="" >
                        <pre>    * @return nothing
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L696" class="number ">696</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L697" class="number ">697</th>

                    <td class="" >
                        <pre>   function post_addItem() {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L698" class="number ">698</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L699" class="number ">699</th>

                    <td class="" >
                        <pre>      if ((isset($this-&gt;input[&#039;_no_history&#039;]) &amp;&amp; $this-&gt;input[&#039;_no_history&#039;])
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L700" class="number ">700</th>

                    <td class="" >
                        <pre>          || (!static::$logs_for_item_1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L701" class="number ">701</th>

                    <td class="" >
                        <pre>              &amp;&amp; !static::$logs_for_item_2)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L702" class="number ">702</th>

                    <td class="" >
                        <pre>         return;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L703" class="number ">703</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L704" class="number ">704</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L705" class="number ">705</th>

                    <td class="" >
                        <pre>      $item1 = $this-&gt;getConnexityItem(static::$itemtype_1, static::$items_id_1);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L706" class="number ">706</th>

                    <td class="" >
                        <pre>      $item2 = $this-&gt;getConnexityItem(static::$itemtype_2, static::$items_id_2);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L707" class="number ">707</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L708" class="number ">708</th>

                    <td class="" >
                        <pre>      if (($item1 !== false)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L709" class="number ">709</th>

                    <td class="" >
                        <pre>          &amp;&amp; ($item2 !== false)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L710" class="number ">710</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L711" class="number ">711</th>

                    <td class="" >
                        <pre>         if ($item1-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L712" class="number ">712</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_1) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L713" class="number ">713</th>

                    <td class="" >
                        <pre>            $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L714" class="number ">714</th>

                    <td class="" >
                        <pre>               (isset($this-&gt;_force_log_option) ? $this-&gt;_force_log_option : 0),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L715" class="number ">715</th>

                    <td class="" >
                        <pre>               &#039;&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L716" class="number ">716</th>

                    <td class="" >
                        <pre>               addslashes($this-&gt;getHistoryNameForItem1($item2, &#039;add&#039;)),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L717" class="number ">717</th>

                    <td class="" >
                        <pre>            ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L718" class="number ">718</th>

                    <td class="" >
                        <pre>            Log::history($item1-&gt;getID(), $item1-&gt;getType(), $changes, $item2-&gt;getType(),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L719" class="number ">719</th>

                    <td class="" >
                        <pre>                         static::$log_history_1_add);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L720" class="number ">720</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L721" class="number ">721</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L722" class="number ">722</th>

                    <td class="" >
                        <pre>         if ($item2-&gt;dohistory &amp;&amp; static::$logs_for_item_2) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L723" class="number ">723</th>

                    <td class="" >
                        <pre>            $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L724" class="number ">724</th>

                    <td class="" >
                        <pre>               &#039;0&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L725" class="number ">725</th>

                    <td class="" >
                        <pre>               &#039;&#039;,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L726" class="number ">726</th>

                    <td class="" >
                        <pre>               addslashes($this-&gt;getHistoryNameForItem2($item1, &#039;add&#039;)),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L727" class="number ">727</th>

                    <td class="" >
                        <pre>            ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L728" class="number ">728</th>

                    <td class="" >
                        <pre>            Log::history($item2-&gt;getID(), $item2-&gt;getType(), $changes, $item1-&gt;getType(),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L729" class="number ">729</th>

                    <td class="" >
                        <pre>                         static::$log_history_2_add);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L730" class="number ">730</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L731" class="number ">731</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L732" class="number ">732</th>

                    <td class="" >
                        <pre>   }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L733" class="number ">733</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L734" class="number ">734</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L735" class="number ">735</th>

                    <td class="" >
                        <pre>    /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L736" class="number ">736</th>

                    <td class="" >
                        <pre>    * Actions done after the UPDATE of the item in the database
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L737" class="number ">737</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L738" class="number ">738</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L739" class="number ">739</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L740" class="number ">740</th>

                    <td class="" >
                        <pre>    * @param $history store changes history ? (default 1)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L741" class="number ">741</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L742" class="number ">742</th>

                    <td class="" >
                        <pre>    * @return nothing
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L743" class="number ">743</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L744" class="number ">744</th>

                    <td class="" >
                        <pre>   function post_updateItem($history = 1) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L745" class="number ">745</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L746" class="number ">746</th>

                    <td class="" >
                        <pre>      if ((isset($this-&gt;input[&#039;_no_history&#039;]) &amp;&amp; $this-&gt;input[&#039;_no_history&#039;])
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L747" class="number ">747</th>

                    <td class="" >
                        <pre>          || (!static::$logs_for_item_1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L748" class="number ">748</th>

                    <td class="" >
                        <pre>              &amp;&amp; !static::$logs_for_item_2)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L749" class="number ">749</th>

                    <td class="" >
                        <pre>         return;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L750" class="number ">750</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L751" class="number ">751</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L752" class="number ">752</th>

                    <td class="" >
                        <pre>      $items_1 = $this-&gt;getItemsForLog(static::$itemtype_1, static::$items_id_1);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L753" class="number ">753</th>

                    <td class="" >
                        <pre>      $items_2 = $this-&gt;getItemsForLog(static::$itemtype_2, static::$items_id_2);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L754" class="number ">754</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L755" class="number ">755</th>

                    <td class="" >
                        <pre>      $new1 = $items_1[&#039;new&#039;];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L756" class="number ">756</th>

                    <td class="" >
                        <pre>      if (isset($items_1[&#039;previous&#039;])) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L757" class="number ">757</th>

                    <td class="" >
                        <pre>         $previous1 = $items_1[&#039;previous&#039;];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L758" class="number ">758</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L759" class="number ">759</th>

                    <td class="" >
                        <pre>         $previous1 = $items_1[&#039;new&#039;];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L760" class="number ">760</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L761" class="number ">761</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L762" class="number ">762</th>

                    <td class="" >
                        <pre>      $new2 = $items_2[&#039;new&#039;];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L763" class="number ">763</th>

                    <td class="" >
                        <pre>      if (isset($items_2[&#039;previous&#039;])) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L764" class="number ">764</th>

                    <td class="" >
                        <pre>         $previous2 = $items_2[&#039;previous&#039;];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L765" class="number ">765</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L766" class="number ">766</th>

                    <td class="" >
                        <pre>         $previous2 = $items_2[&#039;new&#039;];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L767" class="number ">767</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L768" class="number ">768</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L769" class="number ">769</th>

                    <td class="" >
                        <pre>      $oldvalues = $this-&gt;oldvalues;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L770" class="number ">770</th>

                    <td class="" >
                        <pre>      unset($oldvalues[static::$itemtype_1]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L771" class="number ">771</th>

                    <td class="" >
                        <pre>      unset($oldvalues[static::$items_id_1]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L772" class="number ">772</th>

                    <td class="" >
                        <pre>      unset($oldvalues[static::$itemtype_2]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L773" class="number ">773</th>

                    <td class="" >
                        <pre>      unset($oldvalues[static::$items_id_2]);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L774" class="number ">774</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L775" class="number ">775</th>

                    <td class="" >
                        <pre>      foreach ($oldvalues as $field =&gt; $value) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L776" class="number ">776</th>

                    <td class="" >
                        <pre>         $changes = $this-&gt;getHistoryChangeWhenUpdateField($field);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L777" class="number ">777</th>

                    <td class="" >
                        <pre>         if ((!is_array($changes)) || (count($changes) != 3)) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L778" class="number ">778</th>

                    <td class="" >
                        <pre>            continue;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L779" class="number ">779</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L780" class="number ">780</th>

                    <td class="" >
                        <pre>         /// TODO clean management of it
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L781" class="number ">781</th>

                    <td class="" >
                        <pre>         if ($new1 &amp;&amp; $new1-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L782" class="number ">782</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_1) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L783" class="number ">783</th>

                    <td class="" >
                        <pre>            Log::history($new1-&gt;getID(), $new1-&gt;getType(), $changes,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L784" class="number ">784</th>

                    <td class="" >
                        <pre>                         get_called_class().&#039;#&#039;.$field, static::$log_history_1_update);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L785" class="number ">785</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L786" class="number ">786</th>

                    <td class="" >
                        <pre>         if ($new2 &amp;&amp; $new2-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L787" class="number ">787</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_2) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L788" class="number ">788</th>

                    <td class="" >
                        <pre>            Log::history($new2-&gt;getID(), $new2-&gt;getType(), $changes,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L789" class="number ">789</th>

                    <td class="" >
                        <pre>                         get_called_class().&#039;#&#039;.$field, static::$log_history_2_update);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L790" class="number ">790</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L791" class="number ">791</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L792" class="number ">792</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L793" class="number ">793</th>

                    <td class="" >
                        <pre>      if (isset($items_1[&#039;previous&#039;]) || isset($items_2[&#039;previous&#039;])) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L794" class="number ">794</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L795" class="number ">795</th>

                    <td class="" >
                        <pre>         if ($previous2
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L796" class="number ">796</th>

                    <td class="" >
                        <pre>             &amp;&amp; $previous1 &amp;&amp; $previous1-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L797" class="number ">797</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_1) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L798" class="number ">798</th>

                    <td class="" >
                        <pre>            $changes[0] = &#039;0&#039;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L799" class="number ">799</th>

                    <td class="" >
                        <pre>            $changes[1] = addslashes($this-&gt;getHistoryNameForItem1($previous2,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L800" class="number ">800</th>

                    <td class="" >
                        <pre>                                     &#039;update item previous&#039;));
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L801" class="number ">801</th>

                    <td class="" >
                        <pre>            $changes[2] = &quot;&quot;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L802" class="number ">802</th>

                    <td class="" >
                        <pre>            Log::history($previous1-&gt;getID(), $previous1-&gt;getType(), $changes,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L803" class="number ">803</th>

                    <td class="" >
                        <pre>                         $previous2-&gt;getType(), static::$log_history_1_delete);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L804" class="number ">804</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L805" class="number ">805</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L806" class="number ">806</th>

                    <td class="" >
                        <pre>         if ($previous1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L807" class="number ">807</th>

                    <td class="" >
                        <pre>             &amp;&amp; $previous2 &amp;&amp; $previous2-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L808" class="number ">808</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_2) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L809" class="number ">809</th>

                    <td class="" >
                        <pre>            $changes[0] = &#039;0&#039;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L810" class="number ">810</th>

                    <td class="" >
                        <pre>            $changes[1] = addslashes($this-&gt;getHistoryNameForItem2($previous1,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L811" class="number ">811</th>

                    <td class="" >
                        <pre>                                     &#039;update item previous&#039;));
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L812" class="number ">812</th>

                    <td class="" >
                        <pre>            $changes[2] = &quot;&quot;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L813" class="number ">813</th>

                    <td class="" >
                        <pre>            Log::history($previous2-&gt;getID(), $previous2-&gt;getType(), $changes,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L814" class="number ">814</th>

                    <td class="" >
                        <pre>                         $previous1-&gt;getType(), static::$log_history_2_delete);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L815" class="number ">815</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L816" class="number ">816</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L817" class="number ">817</th>

                    <td class="" >
                        <pre>         if ($new2
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L818" class="number ">818</th>

                    <td class="" >
                        <pre>             &amp;&amp; $new1 &amp;&amp; $new1-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L819" class="number ">819</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_1) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L820" class="number ">820</th>

                    <td class="" >
                        <pre>            $changes[0] = &#039;0&#039;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L821" class="number ">821</th>

                    <td class="" >
                        <pre>            $changes[1] = &quot;&quot;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L822" class="number ">822</th>

                    <td class="" >
                        <pre>            $changes[2] = addslashes($this-&gt;getHistoryNameForItem1($new2, &#039;update item next&#039;));
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L823" class="number ">823</th>

                    <td class="" >
                        <pre>            Log::history($new1-&gt;getID(), $new1-&gt;getType(), $changes, $new2-&gt;getType(),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L824" class="number ">824</th>

                    <td class="" >
                        <pre>                         static::$log_history_1_add);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L825" class="number ">825</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L826" class="number ">826</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L827" class="number ">827</th>

                    <td class="" >
                        <pre>         if ($new1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L828" class="number ">828</th>

                    <td class="" >
                        <pre>             &amp;&amp; $new2 &amp;&amp; $new2-&gt;dohistory
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L829" class="number ">829</th>

                    <td class="" >
                        <pre>             &amp;&amp; static::$logs_for_item_2) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L830" class="number ">830</th>

                    <td class="" >
                        <pre>            $changes[0] = &#039;0&#039;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L831" class="number ">831</th>

                    <td class="" >
                        <pre>            $changes[1] = &quot;&quot;;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L832" class="number ">832</th>

                    <td class="" >
                        <pre>            $changes[2] = addslashes($this-&gt;getHistoryNameForItem2($new1, &#039;update item next&#039;));
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L833" class="number ">833</th>

                    <td class="" >
                        <pre>            Log::history($new2-&gt;getID(), $new2-&gt;getType(), $changes, $new1-&gt;getType(),
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L834" class="number ">834</th>

                    <td class="" >
                        <pre>                         static::$log_history_2_add);
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L835" class="number ">835</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L836" class="number ">836</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L837" class="number ">837</th>

                    <td class="" >
                        <pre>   }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L838" class="number ">838</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L839" class="number ">839</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L840" class="number ">840</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L841" class="number ">841</th>

                    <td class="" >
                        <pre>    *  Actions done when item flag deleted is set to an item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L842" class="number ">842</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L843" class="number ">843</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L844" class="number ">844</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L845" class="number ">845</th>

                    <td class="" >
                        <pre>    * @return nothing
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L846" class="number ">846</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="cleanDBonMarkDeleted">
                    <th id="L847" class="number ">847</th>

                    <td class="" id="cleanDBonMarkDeleted">
                        <pre>   function cleanDBonMarkDeleted() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L848" class="number ">848</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L849" class="number uncovered">849</th>

                    <td class="uncovered" >
                        <pre>      if ((isset($this-&gt;input[&#039;_no_history&#039;]) &amp;&amp; $this-&gt;input[&#039;_no_history&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L850" class="number uncovered">850</th>

                    <td class="uncovered" >
                        <pre>          || (!static::$logs_for_item_1</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L851" class="number uncovered">851</th>

                    <td class="uncovered" >
                        <pre>              &amp;&amp; !static::$logs_for_item_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L852" class="number uncovered">852</th>

                    <td class="uncovered" >
                        <pre>         return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L853" class="number ">853</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L854" class="number ">854</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L855" class="number uncovered">855</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;useDeletedToLockIfDynamic()</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L856" class="number uncovered">856</th>

                    <td class="uncovered" >
                        <pre>          &amp;&amp; $this-&gt;isDynamic()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L857" class="number uncovered">857</th>

                    <td class="uncovered" >
                        <pre>         $item1 = $this-&gt;getConnexityItem(static::$itemtype_1, static::$items_id_1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L858" class="number uncovered">858</th>

                    <td class="uncovered" >
                        <pre>         $item2 = $this-&gt;getConnexityItem(static::$itemtype_2, static::$items_id_2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L859" class="number ">859</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L860" class="number uncovered">860</th>

                    <td class="uncovered" >
                        <pre>         if (($item1 !== false)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L861" class="number uncovered">861</th>

                    <td class="uncovered" >
                        <pre>             &amp;&amp; ($item2 !== false)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L862" class="number uncovered">862</th>

                    <td class="uncovered" >
                        <pre>            if ($item1-&gt;dohistory</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L863" class="number uncovered">863</th>

                    <td class="uncovered" >
                        <pre>                &amp;&amp; static::$logs_for_item_1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L864" class="number ">864</th>

                    <td class="" >
                        <pre>               $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L865" class="number uncovered">865</th>

                    <td class="uncovered" >
                        <pre>                  &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L866" class="number uncovered">866</th>

                    <td class="uncovered" >
                        <pre>                  addslashes($this-&gt;getHistoryNameForItem1($item2, &#039;lock&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L867" class="number uncovered">867</th>

                    <td class="uncovered" >
                        <pre>                  &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L868" class="number ">868</th>

                    <td class="" >
                        <pre>               ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L869" class="number ">869</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L870" class="number uncovered">870</th>

                    <td class="uncovered" >
                        <pre>               Log::history($item1-&gt;getID(), $item1-&gt;getType(), $changes, $item2-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L871" class="number uncovered">871</th>

                    <td class="uncovered" >
                        <pre>                            static::$log_history_1_lock);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L872" class="number ">872</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L873" class="number ">873</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L874" class="number uncovered">874</th>

                    <td class="uncovered" >
                        <pre>            if ($item2-&gt;dohistory</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L875" class="number uncovered">875</th>

                    <td class="uncovered" >
                        <pre>               &amp;&amp; static::$logs_for_item_2) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L876" class="number ">876</th>

                    <td class="" >
                        <pre>               $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L877" class="number uncovered">877</th>

                    <td class="uncovered" >
                        <pre>                  &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L878" class="number uncovered">878</th>

                    <td class="uncovered" >
                        <pre>                  addslashes($this-&gt;getHistoryNameForItem2($item1, &#039;lock&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L879" class="number uncovered">879</th>

                    <td class="uncovered" >
                        <pre>                  &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L880" class="number ">880</th>

                    <td class="" >
                        <pre>               ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L881" class="number uncovered">881</th>

                    <td class="uncovered" >
                        <pre>               Log::history($item2-&gt;getID(), $item2-&gt;getType(), $changes, $item1-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L882" class="number uncovered">882</th>

                    <td class="uncovered" >
                        <pre>                            static::$log_history_2_lock);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L883" class="number ">883</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L884" class="number ">884</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L885" class="number ">885</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L886" class="number ">886</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L887" class="number uncovered">887</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L888" class="number ">888</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L889" class="number ">889</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L890" class="number ">890</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L891" class="number ">891</th>

                    <td class="" >
                        <pre>    * Actions done after the restore of the item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L892" class="number ">892</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L893" class="number ">893</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L894" class="number ">894</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L895" class="number ">895</th>

                    <td class="" >
                        <pre>    * @return nothing
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L896" class="number ">896</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_restoreItem">
                    <th id="L897" class="number ">897</th>

                    <td class="" id="post_restoreItem">
                        <pre>   function post_restoreItem() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L898" class="number ">898</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L899" class="number uncovered">899</th>

                    <td class="uncovered" >
                        <pre>      if ((isset($this-&gt;input[&#039;_no_history&#039;]) &amp;&amp; $this-&gt;input[&#039;_no_history&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L900" class="number uncovered">900</th>

                    <td class="uncovered" >
                        <pre>          || (!static::$logs_for_item_1</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L901" class="number uncovered">901</th>

                    <td class="uncovered" >
                        <pre>              &amp;&amp; !static::$logs_for_item_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L902" class="number uncovered">902</th>

                    <td class="uncovered" >
                        <pre>         return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L903" class="number ">903</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L904" class="number ">904</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L905" class="number uncovered">905</th>

                    <td class="uncovered" >
                        <pre>      if ($this-&gt;useDeletedToLockIfDynamic()</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L906" class="number uncovered">906</th>

                    <td class="uncovered" >
                        <pre>          &amp;&amp; $this-&gt;isDynamic()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L907" class="number uncovered">907</th>

                    <td class="uncovered" >
                        <pre>         $item1 = $this-&gt;getConnexityItem(static::$itemtype_1, static::$items_id_1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L908" class="number uncovered">908</th>

                    <td class="uncovered" >
                        <pre>         $item2 = $this-&gt;getConnexityItem(static::$itemtype_2, static::$items_id_2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L909" class="number ">909</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L910" class="number uncovered">910</th>

                    <td class="uncovered" >
                        <pre>         if (($item1 !== false)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L911" class="number uncovered">911</th>

                    <td class="uncovered" >
                        <pre>             &amp;&amp; ($item2 !== false)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L912" class="number uncovered">912</th>

                    <td class="uncovered" >
                        <pre>            if ($item1-&gt;dohistory</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L913" class="number uncovered">913</th>

                    <td class="uncovered" >
                        <pre>                &amp;&amp; static::$logs_for_item_1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L914" class="number ">914</th>

                    <td class="" >
                        <pre>               $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L915" class="number uncovered">915</th>

                    <td class="uncovered" >
                        <pre>                  &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L916" class="number uncovered">916</th>

                    <td class="uncovered" >
                        <pre>                  &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L917" class="number uncovered">917</th>

                    <td class="uncovered" >
                        <pre>                  addslashes($this-&gt;getHistoryNameForItem1($item2, &#039;unlock&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L918" class="number ">918</th>

                    <td class="" >
                        <pre>               ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L919" class="number uncovered">919</th>

                    <td class="uncovered" >
                        <pre>               Log::history($item1-&gt;getID(), $item1-&gt;getType(), $changes, $item2-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L920" class="number uncovered">920</th>

                    <td class="uncovered" >
                        <pre>                            static::$log_history_1_unlock);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L921" class="number ">921</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L922" class="number ">922</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L923" class="number uncovered">923</th>

                    <td class="uncovered" >
                        <pre>            if ($item2-&gt;dohistory</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L924" class="number uncovered">924</th>

                    <td class="uncovered" >
                        <pre>                &amp;&amp; static::$logs_for_item_2) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L925" class="number ">925</th>

                    <td class="" >
                        <pre>               $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L926" class="number uncovered">926</th>

                    <td class="uncovered" >
                        <pre>                  &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L927" class="number uncovered">927</th>

                    <td class="uncovered" >
                        <pre>                  &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L928" class="number uncovered">928</th>

                    <td class="uncovered" >
                        <pre>                  addslashes($this-&gt;getHistoryNameForItem2($item1, &#039;unlock&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L929" class="number ">929</th>

                    <td class="" >
                        <pre>               ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L930" class="number uncovered">930</th>

                    <td class="uncovered" >
                        <pre>               Log::history($item2-&gt;getID(), $item2-&gt;getType(), $changes, $item1-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L931" class="number uncovered">931</th>

                    <td class="uncovered" >
                        <pre>                            static::$log_history_2_unlock);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L932" class="number ">932</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L933" class="number ">933</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L934" class="number ">934</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L935" class="number ">935</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L936" class="number uncovered">936</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L937" class="number ">937</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L938" class="number ">938</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L939" class="number ">939</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L940" class="number ">940</th>

                    <td class="" >
                        <pre>    * Actions done after the DELETE of the item in the database
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L941" class="number ">941</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L942" class="number ">942</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L943" class="number ">943</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L944" class="number ">944</th>

                    <td class="" >
                        <pre>    *@return nothing
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L945" class="number ">945</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="post_deleteFromDB">
                    <th id="L946" class="number ">946</th>

                    <td class="" id="post_deleteFromDB">
                        <pre>   function post_deleteFromDB() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L947" class="number ">947</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L948" class="number uncovered">948</th>

                    <td class="uncovered" >
                        <pre>      if ((isset($this-&gt;input[&#039;_no_history&#039;]) &amp;&amp; $this-&gt;input[&#039;_no_history&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L949" class="number uncovered">949</th>

                    <td class="uncovered" >
                        <pre>          || (!static::$logs_for_item_1</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L950" class="number uncovered">950</th>

                    <td class="uncovered" >
                        <pre>              &amp;&amp; !static::$logs_for_item_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L951" class="number uncovered">951</th>

                    <td class="uncovered" >
                        <pre>         return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L952" class="number ">952</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L953" class="number ">953</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L954" class="number uncovered">954</th>

                    <td class="uncovered" >
                        <pre>      $item1 = $this-&gt;getConnexityItem(static::$itemtype_1, static::$items_id_1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L955" class="number uncovered">955</th>

                    <td class="uncovered" >
                        <pre>      $item2 = $this-&gt;getConnexityItem(static::$itemtype_2, static::$items_id_2);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L956" class="number ">956</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L957" class="number uncovered">957</th>

                    <td class="uncovered" >
                        <pre>      if (($item1 !== false)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L958" class="number uncovered">958</th>

                    <td class="uncovered" >
                        <pre>          &amp;&amp; ($item2 !== false)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L959" class="number ">959</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L960" class="number uncovered">960</th>

                    <td class="uncovered" >
                        <pre>         if ($item1-&gt;dohistory</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L961" class="number uncovered">961</th>

                    <td class="uncovered" >
                        <pre>             &amp;&amp; static::$logs_for_item_1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L962" class="number ">962</th>

                    <td class="" >
                        <pre>            $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L963" class="number uncovered">963</th>

                    <td class="uncovered" >
                        <pre>               &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L964" class="number uncovered">964</th>

                    <td class="uncovered" >
                        <pre>               addslashes($this-&gt;getHistoryNameForItem1($item2, &#039;delete&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L965" class="number uncovered">965</th>

                    <td class="uncovered" >
                        <pre>               &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L966" class="number ">966</th>

                    <td class="" >
                        <pre>            ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L967" class="number uncovered">967</th>

                    <td class="uncovered" >
                        <pre>            Log::history($item1-&gt;getID(), $item1-&gt;getType(), $changes, $item2-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L968" class="number uncovered">968</th>

                    <td class="uncovered" >
                        <pre>                         static::$log_history_1_delete);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L969" class="number ">969</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L970" class="number ">970</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L971" class="number uncovered">971</th>

                    <td class="uncovered" >
                        <pre>         if ($item2-&gt;dohistory</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L972" class="number uncovered">972</th>

                    <td class="uncovered" >
                        <pre>             &amp;&amp; static::$logs_for_item_2) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L973" class="number ">973</th>

                    <td class="" >
                        <pre>            $changes = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L974" class="number uncovered">974</th>

                    <td class="uncovered" >
                        <pre>               &#039;0&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L975" class="number uncovered">975</th>

                    <td class="uncovered" >
                        <pre>               addslashes($this-&gt;getHistoryNameForItem2($item1, &#039;delete&#039;)),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L976" class="number uncovered">976</th>

                    <td class="uncovered" >
                        <pre>               &#039;&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L977" class="number ">977</th>

                    <td class="" >
                        <pre>            ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L978" class="number uncovered">978</th>

                    <td class="uncovered" >
                        <pre>            Log::history($item2-&gt;getID(), $item2-&gt;getType(), $changes, $item1-&gt;getType(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L979" class="number uncovered">979</th>

                    <td class="uncovered" >
                        <pre>                         static::$log_history_2_delete);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L980" class="number ">980</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L981" class="number ">981</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L982" class="number ">982</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L983" class="number uncovered">983</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L984" class="number ">984</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L985" class="number ">985</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L986" class="number ">986</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L987" class="number ">987</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L988" class="number ">988</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L989" class="number ">989</th>

                    <td class="" >
                        <pre>    * @param $itemtype
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L990" class="number ">990</th>

                    <td class="" >
                        <pre>    * @param $base                  HTMLTableBase object
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L991" class="number ">991</th>

                    <td class="" >
                        <pre>    * @param $super                 HTMLTableSuperHeader object (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L992" class="number ">992</th>

                    <td class="" >
                        <pre>    * @param $father                HTMLTableHeader object (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L993" class="number ">993</th>

                    <td class="" >
                        <pre>    * @param $options      array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L994" class="number ">994</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getHTMLTableHeader">
                    <th id="L995" class="number ">995</th>

                    <td class="" id="getHTMLTableHeader">
                        <pre>   static function getHTMLTableHeader($itemtype, HTMLTableBase $base,<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L996" class="number ">996</th>

                    <td class="" >
                        <pre>                                      HTMLTableSuperHeader $super = null,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L997" class="number ">997</th>

                    <td class="" >
                        <pre>                                      HTMLTableHeader $father = null, array $options = []) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L998" class="number ">998</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L999" class="number uncovered">999</th>

                    <td class="uncovered" >
                        <pre>      if (isset($options[get_called_class().&#039;_side&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1000" class="number uncovered">1000</th>

                    <td class="uncovered" >
                        <pre>         $side = $options[get_called_class().&#039;_side&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1001" class="number ">1001</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1002" class="number uncovered">1002</th>

                    <td class="uncovered" >
                        <pre>         $side = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1003" class="number ">1003</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1004" class="number uncovered">1004</th>

                    <td class="uncovered" >
                        <pre>      $oppositetype = &#039;&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1005" class="number uncovered">1005</th>

                    <td class="uncovered" >
                        <pre>      if (($side == 1)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1006" class="number uncovered">1006</th>

                    <td class="uncovered" >
                        <pre>          || ($itemtype == static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1007" class="number uncovered">1007</th>

                    <td class="uncovered" >
                        <pre>         $oppositetype = static::$itemtype_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1008" class="number ">1008</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1009" class="number uncovered">1009</th>

                    <td class="uncovered" >
                        <pre>      if (($side == 2)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1010" class="number uncovered">1010</th>

                    <td class="uncovered" >
                        <pre>          || ($itemtype == static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1011" class="number uncovered">1011</th>

                    <td class="uncovered" >
                        <pre>         $oppositetype = static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1012" class="number ">1012</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1013" class="number uncovered">1013</th>

                    <td class="uncovered" >
                        <pre>      if (class_exists($oppositetype)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1014" class="number uncovered">1014</th>

                    <td class="uncovered" >
                        <pre>          &amp;&amp; method_exists($oppositetype, &#039;getHTMLTableHeader&#039;)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1015" class="number uncovered">1015</th>

                    <td class="uncovered" >
                        <pre>         $oppositetype::getHTMLTableHeader(get_called_class(), $base, $super, $father, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1016" class="number ">1016</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1017" class="number uncovered">1017</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1018" class="number ">1018</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1019" class="number ">1019</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1020" class="number ">1020</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1021" class="number ">1021</th>

                    <td class="" >
                        <pre>    * @since 0.84
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1022" class="number ">1022</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1023" class="number ">1023</th>

                    <td class="" >
                        <pre>    * @param $row                HTMLTableRow object (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1024" class="number ">1024</th>

                    <td class="" >
                        <pre>    * @param $item               CommonDBTM object (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1025" class="number ">1025</th>

                    <td class="" >
                        <pre>    * @param $father             HTMLTableCell object (default NULL)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1026" class="number ">1026</th>

                    <td class="" >
                        <pre>    * @param $options   array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1027" class="number ">1027</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getHTMLTableCellsForItem">
                    <th id="L1028" class="number ">1028</th>

                    <td class="" id="getHTMLTableCellsForItem">
                        <pre>   static function getHTMLTableCellsForItem(HTMLTableRow $row = null, CommonDBTM $item = null,<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1029" class="number ">1029</th>

                    <td class="" >
                        <pre>                                            HTMLTableCell $father = null, array $options = []) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1030" class="number uncovered">1030</th>

                    <td class="uncovered" >
                        <pre>      global $DB, $CFG_GLPI;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1031" class="number ">1031</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1032" class="number uncovered">1032</th>

                    <td class="uncovered" >
                        <pre>      if (empty($item)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1033" class="number uncovered">1033</th>

                    <td class="uncovered" >
                        <pre>         if (empty($father)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1034" class="number uncovered">1034</th>

                    <td class="uncovered" >
                        <pre>            return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1035" class="number ">1035</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1036" class="number uncovered">1036</th>

                    <td class="uncovered" >
                        <pre>         $item = $father-&gt;getItem();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1037" class="number ">1037</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1038" class="number ">1038</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1039" class="number uncovered">1039</th>

                    <td class="uncovered" >
                        <pre>      $query = self::getSQLRequestToSearchForItem($item-&gt;getType(), $item-&gt;getID());</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1040" class="number uncovered">1040</th>

                    <td class="uncovered" >
                        <pre>      if (!empty($query)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1041" class="number ">1041</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1042" class="number uncovered">1042</th>

                    <td class="uncovered" >
                        <pre>         $relation = new static();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1043" class="number uncovered">1043</th>

                    <td class="uncovered" >
                        <pre>         foreach ($DB-&gt;request($query) as $line) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1044" class="number ">1044</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1045" class="number uncovered">1045</th>

                    <td class="uncovered" >
                        <pre>            if ($line[&#039;is_1&#039;] != $line[&#039;is_2&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1046" class="number uncovered">1046</th>

                    <td class="uncovered" >
                        <pre>               if ($line[&#039;is_1&#039;] == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1047" class="number uncovered">1047</th>

                    <td class="uncovered" >
                        <pre>                  $options[&#039;items_id&#039;] = $line[&#039;items_id_1&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1048" class="number uncovered">1048</th>

                    <td class="uncovered" >
                        <pre>                  $oppositetype        = $line[&#039;itemtype_1&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1049" class="number ">1049</th>

                    <td class="" >
                        <pre>               } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1050" class="number uncovered">1050</th>

                    <td class="uncovered" >
                        <pre>                  $options[&#039;items_id&#039;] = $line[&#039;items_id_2&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1051" class="number uncovered">1051</th>

                    <td class="uncovered" >
                        <pre>                  $oppositetype        = $line[&#039;itemtype_2&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1052" class="number ">1052</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1053" class="number uncovered">1053</th>

                    <td class="uncovered" >
                        <pre>               if (class_exists($oppositetype)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1054" class="number uncovered">1054</th>

                    <td class="uncovered" >
                        <pre>                   &amp;&amp; method_exists($oppositetype, &#039;getHTMLTableCellsForItem&#039;)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1055" class="number uncovered">1055</th>

                    <td class="uncovered" >
                        <pre>                   &amp;&amp; $relation-&gt;getFromDB($line[static::getIndexName()])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1056" class="number uncovered">1056</th>

                    <td class="uncovered" >
                        <pre>                  $oppositetype::getHTMLTableCellsForItem($row, $relation, $father, $options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1057" class="number ">1057</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1058" class="number ">1058</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1059" class="number ">1059</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1060" class="number ">1060</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1061" class="number uncovered">1061</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1062" class="number ">1062</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1063" class="number ">1063</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1064" class="number ">1064</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1065" class="number ">1065</th>

                    <td class="" >
                        <pre>    * Affect a CommonDBRelation to a given item. By default, unaffect it
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1066" class="number ">1066</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1067" class="number ">1067</th>

                    <td class="" >
                        <pre>    * @param $id       the id of the CommonDBRelation to affect
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1068" class="number ">1068</th>

                    <td class="" >
                        <pre>    * @param $peer     the number of the peer (ie.: 0 or 1)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1069" class="number ">1069</th>

                    <td class="" >
                        <pre>    * @param $items_id the id of the new item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1070" class="number ">1070</th>

                    <td class="" >
                        <pre>    * @param $itemtype the type of the new item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1071" class="number ">1071</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1072" class="number ">1072</th>

                    <td class="" >
                        <pre>    * @return boolean : true on success
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1073" class="number ">1073</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="affectRelation">
                    <th id="L1074" class="number ">1074</th>

                    <td class="" id="affectRelation">
                        <pre>   function affectRelation($id, $peer, $items_id = 0, $itemtype = &#039;&#039;) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1075" class="number ">1075</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1076" class="number uncovered">1076</th>

                    <td class="uncovered" >
                        <pre>      $input = [static::getIndexName() =&gt; $id];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1077" class="number ">1077</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1078" class="number uncovered">1078</th>

                    <td class="uncovered" >
                        <pre>      if ($peer == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1079" class="number uncovered">1079</th>

                    <td class="uncovered" >
                        <pre>         $input[static::$items_id_1] = $items_id;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1080" class="number ">1080</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1081" class="number uncovered">1081</th>

                    <td class="uncovered" >
                        <pre>         if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1082" class="number uncovered">1082</th>

                    <td class="uncovered" >
                        <pre>            $input[static::$itemtype_1] = $itemtype;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1083" class="number ">1083</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1084" class="number ">1084</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1085" class="number ">1085</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1086" class="number ">1086</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1087" class="number uncovered">1087</th>

                    <td class="uncovered" >
                        <pre>         $input[static::$items_id_2] = $items_id;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1088" class="number uncovered">1088</th>

                    <td class="uncovered" >
                        <pre>         if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1089" class="number uncovered">1089</th>

                    <td class="uncovered" >
                        <pre>            $input[static::$itemtype_2] = $itemtype;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1090" class="number ">1090</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1091" class="number ">1091</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1092" class="number ">1092</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1093" class="number ">1093</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1094" class="number uncovered">1094</th>

                    <td class="uncovered" >
                        <pre>      return $this-&gt;update($input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1095" class="number unreach">1095</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1096" class="number ">1096</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1097" class="number ">1097</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1098" class="number ">1098</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1099" class="number ">1099</th>

                    <td class="" >
                        <pre>    * Get all specificities of the current itemtype concerning the massive actions
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1100" class="number ">1100</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1101" class="number ">1101</th>

                    <td class="" >
                        <pre>    * @since 0.85
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1102" class="number ">1102</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1103" class="number ">1103</th>

                    <td class="" >
                        <pre>    * @return array of the specificities:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1104" class="number ">1104</th>

                    <td class="" >
                        <pre>    *        &#039;select_items_options_1&#039; Base options for item_1 select
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1105" class="number ">1105</th>

                    <td class="" >
                        <pre>    *        &#039;select_items_options_2&#039; Base options for item_2 select
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1106" class="number ">1106</th>

                    <td class="" >
                        <pre>    *        &#039;can_remove_all_at_once&#039; Is it possible to remove all links at once ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1107" class="number ">1107</th>

                    <td class="" >
                        <pre>    *        &#039;only_remove_all_at_once&#039; Do we only allow to remove all links at once ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1108" class="number ">1108</th>

                    <td class="" >
                        <pre>    *                                  (implies &#039;can_remove_all_at_once&#039;)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1109" class="number ">1109</th>

                    <td class="" >
                        <pre>    *        &#039;itemtypes&#039;              array of kind of items in case of itemtype as one item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1110" class="number ">1110</th>

                    <td class="" >
                        <pre>    *        &#039;button_labels&#039;          array of the labels of the button indexed by the action name
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1111" class="number ">1111</th>

                    <td class="" >
                        <pre>    *        &#039;normalized&#039;             array(&#039;add&#039;, &#039;remove&#039;) of arrays containing each action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1112" class="number ">1112</th>

                    <td class="" >
                        <pre>    *        &#039;check_both_items_if_same_type&#039; to check if the link already exists, also care of both
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1113" class="number ">1113</th>

                    <td class="" >
                        <pre>    *                                        items are of the same type, then switch them
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1114" class="number ">1114</th>

                    <td class="" >
                        <pre>    *        &#039;can_link_several_times&#039; Is it possible to link items several times ?
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1115" class="number ">1115</th>

                    <td class="" >
                        <pre>    *        &#039;update_id_different&#039;    Do we update the link if it already exists (not used in case
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1116" class="number ">1116</th>

                    <td class="" >
                        <pre>    *                                 of &#039;can_link_several_times&#039;)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1117" class="number ">1117</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getRelationMassiveActionsSpecificities">
                    <th id="L1118" class="number ">1118</th>

                    <td class="" id="getRelationMassiveActionsSpecificities">
                        <pre>   static function getRelationMassiveActionsSpecificities() {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1119" class="number ">1119</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1120" class="number uncovered">1120</th>

                    <td class="uncovered" >
                        <pre>      return [&#039;select_items_options_1&#039;        =&gt; [],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1121" class="number uncovered">1121</th>

                    <td class="uncovered" >
                        <pre>                   &#039;dropdown_method_1&#039;             =&gt; &#039;dropdown&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1122" class="number ">1122</th>

                    <td class="" >
                        <pre>                   &#039;select_items_options_2&#039;        =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1123" class="number uncovered">1123</th>

                    <td class="uncovered" >
                        <pre>                   &#039;dropdown_method_2&#039;             =&gt; &#039;dropdown&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1124" class="number ">1124</th>

                    <td class="" >
                        <pre>                   &#039;can_remove_all_at_once&#039;        =&gt; true,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1125" class="number ">1125</th>

                    <td class="" >
                        <pre>                   &#039;only_remove_all_at_once&#039;       =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1126" class="number ">1126</th>

                    <td class="" >
                        <pre>                   &#039;itemtypes&#039;                     =&gt; [],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1127" class="number uncovered">1127</th>

                    <td class="uncovered" >
                        <pre>                   &#039;button_labels&#039;                 =&gt; [&#039;add&#039;    =&gt; _sx(&#039;button&#039;, &#039;Add&#039;),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1128" class="number uncovered">1128</th>

                    <td class="uncovered" >
                        <pre>                                                            &#039;remove&#039; =&gt; _sx(&#039;button&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1129" class="number uncovered">1129</th>

                    <td class="uncovered" >
                        <pre>                                                                            &#039;Delete permanently&#039;)],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1130" class="number ">1130</th>

                    <td class="" >
                        <pre>                   &#039;normalized&#039;                    =&gt; [&#039;add&#039;    =&gt; [&#039;add&#039;],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1131" class="number ">1131</th>

                    <td class="" >
                        <pre>                                                            &#039;remove&#039; =&gt; [&#039;remove&#039;]],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1132" class="number ">1132</th>

                    <td class="" >
                        <pre>                   &#039;check_both_items_if_same_type&#039; =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1133" class="number ">1133</th>

                    <td class="" >
                        <pre>                   &#039;can_link_several_times&#039;        =&gt; false,
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1134" class="number ">1134</th>

                    <td class="" >
                        <pre>                   &#039;update_if_different&#039;           =&gt; false];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1135" class="number unreach">1135</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1136" class="number ">1136</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1137" class="number ">1137</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1138" class="number ">1138</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1139" class="number ">1139</th>

                    <td class="" >
                        <pre>    * Add relation specificities to the subForm of the massive action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1140" class="number ">1140</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1141" class="number ">1141</th>

                    <td class="" >
                        <pre>    * @param $ma             current massive action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1142" class="number ">1142</th>

                    <td class="" >
                        <pre>    * @param $peer_number    the number of the concerned peer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1143" class="number ">1143</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1144" class="number ">1144</th>

                    <td class="" >
                        <pre>    * @return nothing (display only)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1145" class="number ">1145</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showRelationMassiveActionsSubForm">
                    <th id="L1146" class="number ">1146</th>

                    <td class="" id="showRelationMassiveActionsSubForm">
                        <pre>   static function showRelationMassiveActionsSubForm(MassiveAction $ma, $peer_number) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1147" class="number uncovered">1147</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1148" class="number ">1148</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1149" class="number ">1149</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1150" class="number ">1150</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1151" class="number ">1151</th>

                    <td class="" >
                        <pre>    * get the type of the item with the name of the action or the types of the input
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1152" class="number ">1152</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1153" class="number ">1153</th>

                    <td class="" >
                        <pre>    * @since 0.85
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1154" class="number ">1154</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1155" class="number ">1155</th>

                    <td class="" >
                        <pre>    * @param $ma current massive action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1156" class="number ">1156</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1157" class="number ">1157</th>

                    <td class="" >
                        <pre>    * @return number of the peer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1158" class="number ">1158</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getRelationMassiveActionsPeerForSubForm">
                    <th id="L1159" class="number ">1159</th>

                    <td class="" id="getRelationMassiveActionsPeerForSubForm">
                        <pre>   static function getRelationMassiveActionsPeerForSubForm(MassiveAction $ma) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1160" class="number ">1160</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1161" class="number uncovered">1161</th>

                    <td class="uncovered" >
                        <pre>      $items = $ma-&gt;getItems();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1162" class="number ">1162</th>

                    <td class="" >
                        <pre>      // If direct itemtype, then, its easy to find !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1163" class="number uncovered">1163</th>

                    <td class="uncovered" >
                        <pre>      if (isset($items[static::$itemtype_1])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1164" class="number uncovered">1164</th>

                    <td class="uncovered" >
                        <pre>         return 2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1165" class="number ">1165</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1166" class="number uncovered">1166</th>

                    <td class="uncovered" >
                        <pre>      if (isset($items[static::$itemtype_2])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1167" class="number uncovered">1167</th>

                    <td class="uncovered" >
                        <pre>         return 1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1168" class="number ">1168</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1169" class="number ">1169</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1170" class="number ">1170</th>

                    <td class="" >
                        <pre>      // Else, check if one of both peer is &#039;itemtype*&#039;
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1171" class="number uncovered">1171</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1172" class="number uncovered">1172</th>

                    <td class="uncovered" >
                        <pre>         return 2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1173" class="number ">1173</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1174" class="number uncovered">1174</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1175" class="number uncovered">1175</th>

                    <td class="uncovered" >
                        <pre>         return 1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1176" class="number ">1176</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1177" class="number ">1177</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1178" class="number ">1178</th>

                    <td class="" >
                        <pre>      // Else we cannot define !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1179" class="number uncovered">1179</th>

                    <td class="uncovered" >
                        <pre>      return 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1180" class="number unreach">1180</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1181" class="number ">1181</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1182" class="number ">1182</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1183" class="number ">1183</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1184" class="number ">1184</th>

                    <td class="" >
                        <pre>    * @since 0.85
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1185" class="number ">1185</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1186" class="number ">1186</th>

                    <td class="" >
                        <pre>    * @see CommonDBTM::showMassiveActionsSubForm()
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1187" class="number ">1187</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="showMassiveActionsSubForm">
                    <th id="L1188" class="number ">1188</th>

                    <td class="" id="showMassiveActionsSubForm">
                        <pre>   static function showMassiveActionsSubForm(MassiveAction $ma) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1189" class="number uncovered">1189</th>

                    <td class="uncovered" >
                        <pre>      global $CFG_GLPI;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1190" class="number ">1190</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1191" class="number uncovered">1191</th>

                    <td class="uncovered" >
                        <pre>      $specificities = static::getRelationMassiveActionsSpecificities();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1192" class="number uncovered">1192</th>

                    <td class="uncovered" >
                        <pre>      $action        = $ma-&gt;getAction();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1193" class="number ">1193</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1194" class="number ">1194</th>

                    <td class="" >
                        <pre>      // First, get normalized action : add or remove
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1195" class="number uncovered">1195</th>

                    <td class="uncovered" >
                        <pre>      if (in_array($action, $specificities[&#039;normalized&#039;][&#039;add&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1196" class="number uncovered">1196</th>

                    <td class="uncovered" >
                        <pre>         $normalized_action = &#039;add&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1197" class="number uncovered">1197</th>

                    <td class="uncovered" >
                        <pre>      } else if (in_array($action, $specificities[&#039;normalized&#039;][&#039;remove&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1198" class="number uncovered">1198</th>

                    <td class="uncovered" >
                        <pre>         $normalized_action = &#039;remove&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1199" class="number ">1199</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1200" class="number ">1200</th>

                    <td class="" >
                        <pre>         // If we cannot get normalized action, then, its not for this method !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1201" class="number uncovered">1201</th>

                    <td class="uncovered" >
                        <pre>         return parent::showMassiveActionsSubForm($ma);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1202" class="number ">1202</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1203" class="number ">1203</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1204" class="number uncovered">1204</th>

                    <td class="uncovered" >
                        <pre>      switch ($normalized_action) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1205" class="number uncovered">1205</th>

                    <td class="uncovered" >
                        <pre>         case &#039;add&#039; :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1206" class="number uncovered">1206</th>

                    <td class="uncovered" >
                        <pre>         case &#039;remove&#039; :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1207" class="number ">1207</th>

                    <td class="" >
                        <pre>            // Get the peer number. For Document_Item, it depends of the action&#039;s name
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1208" class="number uncovered">1208</th>

                    <td class="uncovered" >
                        <pre>            $peer_number = static::getRelationMassiveActionsPeerForSubForm($ma);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1209" class="number ">1209</th>

                    <td class="" >
                        <pre>            switch ($peer_number) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1210" class="number uncovered">1210</th>

                    <td class="uncovered" >
                        <pre>               case 1:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1211" class="number uncovered">1211</th>

                    <td class="uncovered" >
                        <pre>                  $peertype = static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1212" class="number uncovered">1212</th>

                    <td class="uncovered" >
                        <pre>                  $peers_id = static::$items_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1213" class="number uncovered">1213</th>

                    <td class="uncovered" >
                        <pre>                  break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1214" class="number uncovered">1214</th>

                    <td class="uncovered" >
                        <pre>               case 2:</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1215" class="number uncovered">1215</th>

                    <td class="uncovered" >
                        <pre>                  $peertype = static::$itemtype_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1216" class="number uncovered">1216</th>

                    <td class="uncovered" >
                        <pre>                  $peers_id = static::$items_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1217" class="number uncovered">1217</th>

                    <td class="uncovered" >
                        <pre>                  break;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1218" class="number ">1218</th>

                    <td class="" >
                        <pre>               default:
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1219" class="number uncovered">1219</th>

                    <td class="uncovered" >
                        <pre>                  exit();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1220" class="number ">1220</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1221" class="number uncovered">1221</th>

                    <td class="uncovered" >
                        <pre>            if (($normalized_action == &#039;remove&#039;)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1222" class="number uncovered">1222</th>

                    <td class="uncovered" >
                        <pre>                &amp;&amp; ($specificities[&#039;only_remove_all_at_once&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1223" class="number ">1223</th>

                    <td class="" >
                        <pre>               // If we just want to remove all the items, then just set hidden fields
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1224" class="number uncovered">1224</th>

                    <td class="uncovered" >
                        <pre>               echo Html::hidden(&#039;peer_&#039;.$peertype, [&#039;value&#039; =&gt; &#039;&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1225" class="number uncovered">1225</th>

                    <td class="uncovered" >
                        <pre>               echo Html::hidden(&#039;peer_&#039;.$peers_id, [&#039;value&#039; =&gt; -1]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1226" class="number ">1226</th>

                    <td class="" >
                        <pre>            } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1227" class="number ">1227</th>

                    <td class="" >
                        <pre>               // Else, it depends if the peer is an itemtype or not
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1228" class="number uncovered">1228</th>

                    <td class="uncovered" >
                        <pre>               $options = $specificities[&#039;select_items_options_&#039;.$peer_number];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1229" class="number ">1229</th>

                    <td class="" >
                        <pre>               // Do we allow to remove all the items at once ? Then, rename the default value !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1230" class="number uncovered">1230</th>

                    <td class="uncovered" >
                        <pre>               if (($normalized_action == &#039;remove&#039;)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1231" class="number uncovered">1231</th>

                    <td class="uncovered" >
                        <pre>                   &amp;&amp; $specificities[&#039;can_remove_all_at_once&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1232" class="number uncovered">1232</th>

                    <td class="uncovered" >
                        <pre>                  $options[&#039;emptylabel&#039;] = __(&#039;Remove all at once&#039;);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1233" class="number ">1233</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1234" class="number uncovered">1234</th>

                    <td class="uncovered" >
                        <pre>               if (preg_match(&#039;/^itemtype/&#039;, $peertype)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1235" class="number uncovered">1235</th>

                    <td class="uncovered" >
                        <pre>                  if (count($specificities[&#039;itemtypes&#039;]) &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1236" class="number uncovered">1236</th>

                    <td class="uncovered" >
                        <pre>                     $options[&#039;itemtype_name&#039;] = &#039;peer_&#039;.$peertype;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1237" class="number uncovered">1237</th>

                    <td class="uncovered" >
                        <pre>                     $options[&#039;items_id_name&#039;] = &#039;peer_&#039;.$peers_id;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1238" class="number uncovered">1238</th>

                    <td class="uncovered" >
                        <pre>                     $options[&#039;itemtypes&#039;]     = $specificities[&#039;itemtypes&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1239" class="number ">1239</th>

                    <td class="" >
                        <pre>                     // At least, if not forced by user, &#039;checkright&#039; == true
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1240" class="number uncovered">1240</th>

                    <td class="uncovered" >
                        <pre>                     if (!isset($options[&#039;checkright&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1241" class="number uncovered">1241</th>

                    <td class="uncovered" >
                        <pre>                        $options[&#039;checkright&#039;]    = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1242" class="number ">1242</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1243" class="number uncovered">1243</th>

                    <td class="uncovered" >
                        <pre>                     Dropdown::showSelectItemFromItemtypes($options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1244" class="number ">1244</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1245" class="number ">1245</th>

                    <td class="" >
                        <pre>               } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1246" class="number uncovered">1246</th>

                    <td class="uncovered" >
                        <pre>                  $options[&#039;name&#039;] = &#039;peer_&#039;.$peers_id;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1247" class="number uncovered">1247</th>

                    <td class="uncovered" >
                        <pre>                  if ($normalized_action == &#039;remove&#039;) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1248" class="number uncovered">1248</th>

                    <td class="uncovered" >
                        <pre>                     $options[&#039;nochecklimit&#039;] = true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1249" class="number ">1249</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1250" class="number uncovered">1250</th>

                    <td class="uncovered" >
                        <pre>                  $dropdown_method = $specificities[&#039;dropdown_method_&#039;.$peer_number];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1251" class="number uncovered">1251</th>

                    <td class="uncovered" >
                        <pre>                  $peertype::$dropdown_method($options);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1252" class="number ">1252</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1253" class="number ">1253</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1254" class="number ">1254</th>

                    <td class="" >
                        <pre>            // Allow any relation to display its own fields (Networkport_Vlan for tagged ...)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1255" class="number uncovered">1255</th>

                    <td class="uncovered" >
                        <pre>            static::showRelationMassiveActionsSubForm($ma, $peer_number);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1256" class="number uncovered">1256</th>

                    <td class="uncovered" >
                        <pre>            echo &quot;&lt;br&gt;&lt;br&gt;&quot;.Html::submit($specificities[&#039;button_labels&#039;][$action],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1257" class="number uncovered">1257</th>

                    <td class="uncovered" >
                        <pre>                                         [&#039;name&#039; =&gt; &#039;massiveaction&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1258" class="number uncovered">1258</th>

                    <td class="uncovered" >
                        <pre>            return true;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1259" class="number ">1259</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1260" class="number uncovered">1260</th>

                    <td class="uncovered" >
                        <pre>      return parent::showMassiveActionsSubForm($ma);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1261" class="number unreach">1261</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1262" class="number ">1262</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1263" class="number ">1263</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1264" class="number ">1264</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1265" class="number ">1265</th>

                    <td class="" >
                        <pre>    * @since 0.85
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1266" class="number ">1266</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1267" class="number ">1267</th>

                    <td class="" >
                        <pre>    * Set based array for static::add or static::update in case of massive actions are doing
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1268" class="number ">1268</th>

                    <td class="" >
                        <pre>    * something.
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1269" class="number ">1269</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1270" class="number ">1270</th>

                    <td class="" >
                        <pre>    * @param $action            the name of the action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1271" class="number ">1271</th>

                    <td class="" >
                        <pre>    * @param $item              the item on which apply the massive action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1272" class="number ">1272</th>

                    <td class="" >
                        <pre>    * @param $ids       array   of the ids of the item on which apply the action
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1273" class="number ">1273</th>

                    <td class="" >
                        <pre>    * @param $input     array   of the input provided by the form ($_POST, $_GET ...)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1274" class="number ">1274</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1275" class="number ">1275</th>

                    <td class="" >
                        <pre>    * @return array containing the elements
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1276" class="number ">1276</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getRelationInputForProcessingOfMassiveActions">
                    <th id="L1277" class="number ">1277</th>

                    <td class="" id="getRelationInputForProcessingOfMassiveActions">
                        <pre>   static function getRelationInputForProcessingOfMassiveActions($action, CommonDBTM $item,<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1278" class="number ">1278</th>

                    <td class="" >
                        <pre>                                                                 array $ids, array $input) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1279" class="number uncovered">1279</th>

                    <td class="uncovered" >
                        <pre>      return [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1280" class="number unreach">1280</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1281" class="number ">1281</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1282" class="number ">1282</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1283" class="number ">1283</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1284" class="number ">1284</th>

                    <td class="" >
                        <pre>    * @warning this is not valid if $itemtype_1 == $itemtype_2 !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1285" class="number ">1285</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1286" class="number ">1286</th>

                    <td class="" >
                        <pre>    * @since 0.85
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1287" class="number ">1287</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1288" class="number ">1288</th>

                    <td class="" >
                        <pre>    * @see CommonDBTM::processMassiveActionsForOneItemtype()
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1289" class="number ">1289</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="processMassiveActionsForOneItemtype">
                    <th id="L1290" class="number ">1290</th>

                    <td class="" id="processMassiveActionsForOneItemtype">
                        <pre>   static function processMassiveActionsForOneItemtype(MassiveAction $ma, CommonDBTM $item,<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1291" class="number ">1291</th>

                    <td class="" >
                        <pre>                                                       array $ids) {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1292" class="number uncovered">1292</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1293" class="number ">1293</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1294" class="number uncovered">1294</th>

                    <td class="uncovered" >
                        <pre>      $action        = $ma-&gt;getAction();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1295" class="number uncovered">1295</th>

                    <td class="uncovered" >
                        <pre>      $input         = $ma-&gt;getInput();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1296" class="number ">1296</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1297" class="number uncovered">1297</th>

                    <td class="uncovered" >
                        <pre>      $specificities = static::getRelationMassiveActionsSpecificities();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1298" class="number ">1298</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1299" class="number ">1299</th>

                    <td class="" >
                        <pre>      // First, get normalized action : add or remove
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1300" class="number uncovered">1300</th>

                    <td class="uncovered" >
                        <pre>      if (in_array($action, $specificities[&#039;normalized&#039;][&#039;add&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1301" class="number uncovered">1301</th>

                    <td class="uncovered" >
                        <pre>         $normalized_action = &#039;add&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1302" class="number uncovered">1302</th>

                    <td class="uncovered" >
                        <pre>      } else if (in_array($action, $specificities[&#039;normalized&#039;][&#039;remove&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1303" class="number uncovered">1303</th>

                    <td class="uncovered" >
                        <pre>         $normalized_action = &#039;remove&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1304" class="number ">1304</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1305" class="number ">1305</th>

                    <td class="" >
                        <pre>         // If we cannot get normalized action, then, its not for this method !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1306" class="number uncovered">1306</th>

                    <td class="uncovered" >
                        <pre>         parent::processMassiveActionsForOneItemtype($ma, $item, $ids);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1307" class="number uncovered">1307</th>

                    <td class="uncovered" >
                        <pre>         return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1308" class="number ">1308</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1309" class="number ">1309</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1310" class="number uncovered">1310</th>

                    <td class="uncovered" >
                        <pre>      $link     = new static();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1311" class="number ">1311</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1312" class="number ">1312</th>

                    <td class="" >
                        <pre>      // Get the default &#039;input&#039; entries from the relation
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1313" class="number uncovered">1313</th>

                    <td class="uncovered" >
                        <pre>      $input2   = static::getRelationInputForProcessingOfMassiveActions($action, $item, $ids,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1314" class="number uncovered">1314</th>

                    <td class="uncovered" >
                        <pre>                                                                        $input);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1315" class="number ">1315</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1316" class="number ">1316</th>

                    <td class="" >
                        <pre>      // complete input2 with the right fields from input and define the peer with this information
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1317" class="number uncovered">1317</th>

                    <td class="uncovered" >
                        <pre>      foreach ([static::$itemtype_1, static::$items_id_1] as $field) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1318" class="number uncovered">1318</th>

                    <td class="uncovered" >
                        <pre>         if (isset($input[&#039;peer_&#039;.$field])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1319" class="number uncovered">1319</th>

                    <td class="uncovered" >
                        <pre>            $input2[$field] = $input[&#039;peer_&#039;.$field];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1320" class="number uncovered">1320</th>

                    <td class="uncovered" >
                        <pre>            $item_number = 2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1321" class="number ">1321</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1322" class="number ">1322</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1323" class="number ">1323</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1324" class="number uncovered">1324</th>

                    <td class="uncovered" >
                        <pre>      foreach ([static::$itemtype_2, static::$items_id_2] as $field) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1325" class="number uncovered">1325</th>

                    <td class="uncovered" >
                        <pre>         if (isset($input[&#039;peer_&#039;.$field])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1326" class="number uncovered">1326</th>

                    <td class="uncovered" >
                        <pre>            $input2[$field] = $input[&#039;peer_&#039;.$field];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1327" class="number uncovered">1327</th>

                    <td class="uncovered" >
                        <pre>            $item_number = 1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1328" class="number ">1328</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1329" class="number ">1329</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1330" class="number ">1330</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1331" class="number ">1331</th>

                    <td class="" >
                        <pre>      // If the fields provided by showMassiveActionsSubForm are not valid then quit !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1332" class="number uncovered">1332</th>

                    <td class="uncovered" >
                        <pre>      if (!isset($item_number)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1333" class="number uncovered">1333</th>

                    <td class="uncovered" >
                        <pre>         $ma-&gt;itemDone($item-&gt;getType(), $ids, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1334" class="number uncovered">1334</th>

                    <td class="uncovered" >
                        <pre>         $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_NOT_FOUND));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1335" class="number uncovered">1335</th>

                    <td class="uncovered" >
                        <pre>         return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1336" class="number ">1336</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1337" class="number ">1337</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1338" class="number uncovered">1338</th>

                    <td class="uncovered" >
                        <pre>      if ($item_number == 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1339" class="number uncovered">1339</th>

                    <td class="uncovered" >
                        <pre>         $itemtype = static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1340" class="number uncovered">1340</th>

                    <td class="uncovered" >
                        <pre>         $items_id = static::$items_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1341" class="number uncovered">1341</th>

                    <td class="uncovered" >
                        <pre>         $peertype = static::$itemtype_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1342" class="number uncovered">1342</th>

                    <td class="uncovered" >
                        <pre>         $peers_id = static::$items_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1343" class="number ">1343</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1344" class="number uncovered">1344</th>

                    <td class="uncovered" >
                        <pre>         $itemtype = static::$itemtype_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1345" class="number uncovered">1345</th>

                    <td class="uncovered" >
                        <pre>         $items_id = static::$items_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1346" class="number uncovered">1346</th>

                    <td class="uncovered" >
                        <pre>         $peertype = static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1347" class="number uncovered">1347</th>

                    <td class="uncovered" >
                        <pre>         $peers_id = static::$items_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1348" class="number ">1348</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1349" class="number ">1349</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1350" class="number uncovered">1350</th>

                    <td class="uncovered" >
                        <pre>      if (preg_match(&#039;/^itemtype/&#039;, $itemtype)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1351" class="number uncovered">1351</th>

                    <td class="uncovered" >
                        <pre>         $input2[$itemtype] = $item-&gt;getType();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1352" class="number ">1352</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1353" class="number ">1353</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1354" class="number ">1354</th>

                    <td class="" >
                        <pre>      // Get the peer from the $input2 and the name of its fields
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1355" class="number uncovered">1355</th>

                    <td class="uncovered" >
                        <pre>      $peer = static::getItemFromArray($peertype, $peers_id, $input2, true, true, true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1356" class="number ">1356</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1357" class="number ">1357</th>

                    <td class="" >
                        <pre>      // $peer not valid =&gt; not in DB or try to remove all at once !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1358" class="number uncovered">1358</th>

                    <td class="uncovered" >
                        <pre>      if (($peer === false)</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1359" class="number uncovered">1359</th>

                    <td class="uncovered" >
                        <pre>          || $peer-&gt;isNewItem()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1360" class="number uncovered">1360</th>

                    <td class="uncovered" >
                        <pre>         if ((isset($input2[$peers_id])) &amp;&amp; ($input2[$peers_id] &gt; 0)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1361" class="number uncovered">1361</th>

                    <td class="uncovered" >
                        <pre>            $ma-&gt;itemDone($item-&gt;getType(), $ids, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1362" class="number uncovered">1362</th>

                    <td class="uncovered" >
                        <pre>            if ($peer instanceof CommonDBTM) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1363" class="number uncovered">1363</th>

                    <td class="uncovered" >
                        <pre>               $ma-&gt;addMessage($peer-&gt;getErrorMessage(ERROR_NOT_FOUND));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1364" class="number ">1364</th>

                    <td class="" >
                        <pre>            } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1365" class="number uncovered">1365</th>

                    <td class="uncovered" >
                        <pre>               $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_NOT_FOUND));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1366" class="number ">1366</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1367" class="number uncovered">1367</th>

                    <td class="uncovered" >
                        <pre>            return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1368" class="number ">1368</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1369" class="number uncovered">1369</th>

                    <td class="uncovered" >
                        <pre>         if (!$specificities[&#039;can_remove_all_at_once&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1370" class="number uncovered">1370</th>

                    <td class="uncovered" >
                        <pre>             &amp;&amp; !$specificities[&#039;only_remove_all_at_once&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1371" class="number uncovered">1371</th>

                    <td class="uncovered" >
                        <pre>            return false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1372" class="number ">1372</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1373" class="number uncovered">1373</th>

                    <td class="uncovered" >
                        <pre>         $peer = false;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1374" class="number ">1374</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1375" class="number ">1375</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1376" class="number ">1376</th>

                    <td class="" >
                        <pre>      // Make a link between $item_1, $item_2 and $item and $peer. Thus, we will be able to update
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1377" class="number ">1377</th>

                    <td class="" >
                        <pre>      // $item without having to care about the number of the item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1378" class="number uncovered">1378</th>

                    <td class="uncovered" >
                        <pre>      if ($item_number == 1) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1379" class="number uncovered">1379</th>

                    <td class="uncovered" >
                        <pre>         $item_1 = &amp;$item;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1380" class="number uncovered">1380</th>

                    <td class="uncovered" >
                        <pre>         $item_2 = &amp;$peer;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1381" class="number ">1381</th>

                    <td class="" >
                        <pre>      } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1382" class="number uncovered">1382</th>

                    <td class="uncovered" >
                        <pre>         $item_1 = &amp;$peer;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1383" class="number uncovered">1383</th>

                    <td class="uncovered" >
                        <pre>         $item_2 = &amp;$item;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1384" class="number ">1384</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1385" class="number ">1385</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1386" class="number uncovered">1386</th>

                    <td class="uncovered" >
                        <pre>      switch ($normalized_action) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1387" class="number uncovered">1387</th>

                    <td class="uncovered" >
                        <pre>         case &#039;add&#039; :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1388" class="number ">1388</th>

                    <td class="" >
                        <pre>            // remove all at once only available for remove !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1389" class="number uncovered">1389</th>

                    <td class="uncovered" >
                        <pre>            if (!$peer) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1390" class="number uncovered">1390</th>

                    <td class="uncovered" >
                        <pre>               $ma-&gt;itemDone($item-&gt;getType(), $ids, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1391" class="number uncovered">1391</th>

                    <td class="uncovered" >
                        <pre>               $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_ON_ACTION));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1392" class="number uncovered">1392</th>

                    <td class="uncovered" >
                        <pre>               return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1393" class="number ">1393</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1394" class="number uncovered">1394</th>

                    <td class="uncovered" >
                        <pre>            foreach ($ids as $key) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1395" class="number uncovered">1395</th>

                    <td class="uncovered" >
                        <pre>               if (!$item-&gt;getFromDB($key)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1396" class="number uncovered">1396</th>

                    <td class="uncovered" >
                        <pre>                  $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1397" class="number uncovered">1397</th>

                    <td class="uncovered" >
                        <pre>                  $ma-&gt;addMessage($item-&gt;getErrorMessage(ERROR_NOT_FOUND));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1398" class="number uncovered">1398</th>

                    <td class="uncovered" >
                        <pre>                  continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1399" class="number ">1399</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1400" class="number uncovered">1400</th>

                    <td class="uncovered" >
                        <pre>               $input2[$items_id] = $item-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1401" class="number ">1401</th>

                    <td class="" >
                        <pre>               // If &#039;can_link_several_times&#039;, then, we add the elements !
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1402" class="number uncovered">1402</th>

                    <td class="uncovered" >
                        <pre>               if ($specificities[&#039;can_link_several_times&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1403" class="number uncovered">1403</th>

                    <td class="uncovered" >
                        <pre>                  if ($link-&gt;can(-1, CREATE, $input2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1404" class="number uncovered">1404</th>

                    <td class="uncovered" >
                        <pre>                     if ($link-&gt;add($input2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1405" class="number uncovered">1405</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_OK);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1406" class="number ">1406</th>

                    <td class="" >
                        <pre>                     } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1407" class="number uncovered">1407</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1408" class="number uncovered">1408</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_ON_ACTION));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1409" class="number ">1409</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1410" class="number ">1410</th>

                    <td class="" >
                        <pre>                  } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1411" class="number uncovered">1411</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_NORIGHT);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1412" class="number uncovered">1412</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_RIGHT));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1413" class="number ">1413</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1414" class="number ">1414</th>

                    <td class="" >
                        <pre>               } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1415" class="number uncovered">1415</th>

                    <td class="uncovered" >
                        <pre>                  $link-&gt;getEmpty();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1416" class="number uncovered">1416</th>

                    <td class="uncovered" >
                        <pre>                  if (!$link-&gt;getFromDBForItems($item_1, $item_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1417" class="number uncovered">1417</th>

                    <td class="uncovered" >
                        <pre>                     if (($specificities[&#039;check_both_items_if_same_type&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1418" class="number uncovered">1418</th>

                    <td class="uncovered" >
                        <pre>                         &amp;&amp; ($item_1-&gt;getType() == $item_2-&gt;getType())) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1419" class="number uncovered">1419</th>

                    <td class="uncovered" >
                        <pre>                        $link-&gt;getFromDBForItems($item_2, $item_1);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1420" class="number ">1420</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1421" class="number ">1421</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1422" class="number uncovered">1422</th>

                    <td class="uncovered" >
                        <pre>                  if (!$link-&gt;isNewItem()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1423" class="number uncovered">1423</th>

                    <td class="uncovered" >
                        <pre>                     if (!$specificities[&#039;update_if_different&#039;]) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1424" class="number uncovered">1424</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1425" class="number uncovered">1425</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_ALREADY_DEFINED));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1426" class="number uncovered">1426</th>

                    <td class="uncovered" >
                        <pre>                        continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1427" class="number ">1427</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1428" class="number uncovered">1428</th>

                    <td class="uncovered" >
                        <pre>                     $input2[static::getIndexName()] = $link-&gt;getID();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1429" class="number uncovered">1429</th>

                    <td class="uncovered" >
                        <pre>                     if ($link-&gt;can($link-&gt;getID(), UPDATE, $input2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1430" class="number uncovered">1430</th>

                    <td class="uncovered" >
                        <pre>                        if ($link-&gt;update($input2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1431" class="number uncovered">1431</th>

                    <td class="uncovered" >
                        <pre>                           $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_OK);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1432" class="number ">1432</th>

                    <td class="" >
                        <pre>                        } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1433" class="number uncovered">1433</th>

                    <td class="uncovered" >
                        <pre>                           $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1434" class="number uncovered">1434</th>

                    <td class="uncovered" >
                        <pre>                           $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_ON_ACTION));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1435" class="number ">1435</th>

                    <td class="" >
                        <pre>                        }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1436" class="number ">1436</th>

                    <td class="" >
                        <pre>                     } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1437" class="number uncovered">1437</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_NORIGHT);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1438" class="number uncovered">1438</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_RIGHT));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1439" class="number ">1439</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1440" class="number ">1440</th>

                    <td class="" >
                        <pre>                     // if index defined, then cannot not add any other link due to index unicity
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1441" class="number uncovered">1441</th>

                    <td class="uncovered" >
                        <pre>                     unset($input2[static::getIndexName()]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1442" class="number ">1442</th>

                    <td class="" >
                        <pre>                  } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1443" class="number uncovered">1443</th>

                    <td class="uncovered" >
                        <pre>                     if ($link-&gt;can(-1, CREATE, $input2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1444" class="number uncovered">1444</th>

                    <td class="uncovered" >
                        <pre>                        if ($link-&gt;add($input2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1445" class="number uncovered">1445</th>

                    <td class="uncovered" >
                        <pre>                           $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_OK);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1446" class="number ">1446</th>

                    <td class="" >
                        <pre>                        } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1447" class="number uncovered">1447</th>

                    <td class="uncovered" >
                        <pre>                           $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1448" class="number uncovered">1448</th>

                    <td class="uncovered" >
                        <pre>                           $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_ON_ACTION));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1449" class="number ">1449</th>

                    <td class="" >
                        <pre>                        }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1450" class="number ">1450</th>

                    <td class="" >
                        <pre>                     } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1451" class="number uncovered">1451</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_NORIGHT);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1452" class="number uncovered">1452</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_RIGHT));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1453" class="number ">1453</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1454" class="number ">1454</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1455" class="number ">1455</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1456" class="number ">1456</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1457" class="number uncovered">1457</th>

                    <td class="uncovered" >
                        <pre>            return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1458" class="number ">1458</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1459" class="number uncovered">1459</th>

                    <td class="uncovered" >
                        <pre>         case &#039;remove&#039; :</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1460" class="number uncovered">1460</th>

                    <td class="uncovered" >
                        <pre>            foreach ($ids as $key) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1461" class="number ">1461</th>

                    <td class="" >
                        <pre>               // First, get the query to find all occurences of the link item&lt;=&gt;key
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1462" class="number uncovered">1462</th>

                    <td class="uncovered" >
                        <pre>               if (!$peer) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1463" class="number uncovered">1463</th>

                    <td class="uncovered" >
                        <pre>                  $query = static::getSQLRequestToSearchForItem($item-&gt;getType(), $key);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1464" class="number ">1464</th>

                    <td class="" >
                        <pre>               } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1465" class="number uncovered">1465</th>

                    <td class="uncovered" >
                        <pre>                  if (!$item-&gt;getFromDB($key)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1466" class="number uncovered">1466</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1467" class="number uncovered">1467</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;addMessage($item-&gt;getErrorMessage(ERROR_NOT_FOUND));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1468" class="number uncovered">1468</th>

                    <td class="uncovered" >
                        <pre>                     continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1469" class="number ">1469</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1470" class="number uncovered">1470</th>

                    <td class="uncovered" >
                        <pre>                  $query = &#039;SELECT `&#039;.static::getIndexName().&#039;`</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1471" class="number uncovered">1471</th>

                    <td class="uncovered" >
                        <pre>                            FROM `&#039;.static::getTable().&#039;`&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1472" class="number uncovered">1472</th>

                    <td class="uncovered" >
                        <pre>                  $WHERE = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1473" class="number uncovered">1473</th>

                    <td class="uncovered" >
                        <pre>                  if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1474" class="number uncovered">1474</th>

                    <td class="uncovered" >
                        <pre>                     $WHERE[] = &quot; `&quot;.static::$itemtype_1.&quot;` = &#039;&quot;.$item_1-&gt;getType().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1475" class="number ">1475</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1476" class="number uncovered">1476</th>

                    <td class="uncovered" >
                        <pre>                  $WHERE[] = &quot; `&quot;.static::$items_id_1.&quot;` = &#039;&quot;.$item_1-&gt;getID().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1477" class="number uncovered">1477</th>

                    <td class="uncovered" >
                        <pre>                  if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1478" class="number uncovered">1478</th>

                    <td class="uncovered" >
                        <pre>                     $WHERE[] = &quot; `&quot;.static::$itemtype_2.&quot;` = &#039;&quot;.$item_2-&gt;getType().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1479" class="number ">1479</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1480" class="number uncovered">1480</th>

                    <td class="uncovered" >
                        <pre>                  $WHERE[] = &quot; `&quot;.static::$items_id_2.&quot;` = &#039;&quot;.$item_2-&gt;getID().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1481" class="number uncovered">1481</th>

                    <td class="uncovered" >
                        <pre>                  $query .= &#039;WHERE (&#039;.implode(&#039; AND &#039;, $WHERE).&#039;)&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1482" class="number ">1482</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1483" class="number uncovered">1483</th>

                    <td class="uncovered" >
                        <pre>                  if (($specificities[&#039;check_both_items_if_same_type&#039;])</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1484" class="number uncovered">1484</th>

                    <td class="uncovered" >
                        <pre>                      &amp;&amp; ($item_1-&gt;getType() == $item_2-&gt;getType())) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1485" class="number uncovered">1485</th>

                    <td class="uncovered" >
                        <pre>                     $WHERE = [];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1486" class="number uncovered">1486</th>

                    <td class="uncovered" >
                        <pre>                     if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_1)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1487" class="number uncovered">1487</th>

                    <td class="uncovered" >
                        <pre>                        $WHERE[] = &quot; `&quot;.static::$itemtype_1.&quot;` = &#039;&quot;.$item_2-&gt;getType().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1488" class="number ">1488</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1489" class="number uncovered">1489</th>

                    <td class="uncovered" >
                        <pre>                     $WHERE[] = &quot; `&quot;.static::$items_id_1.&quot;` = &#039;&quot;.$item_2-&gt;getID().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1490" class="number uncovered">1490</th>

                    <td class="uncovered" >
                        <pre>                     if (preg_match(&#039;/^itemtype/&#039;, static::$itemtype_2)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1491" class="number uncovered">1491</th>

                    <td class="uncovered" >
                        <pre>                        $WHERE[] = &quot; `&quot;.static::$itemtype_2.&quot;` = &#039;&quot;.$item_2-&gt;getType().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1492" class="number ">1492</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1493" class="number uncovered">1493</th>

                    <td class="uncovered" >
                        <pre>                     $WHERE[] = &quot; `&quot;.static::$items_id_2.&quot;` = &#039;&quot;.$item_2-&gt;getID().&quot;&#039;&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1494" class="number uncovered">1494</th>

                    <td class="uncovered" >
                        <pre>                     $query .= &#039; OR (&#039;.implode(&#039; AND &#039;, $WHERE).&#039;)&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1495" class="number ">1495</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1496" class="number ">1496</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1497" class="number uncovered">1497</th>

                    <td class="uncovered" >
                        <pre>               $request        = $DB-&gt;request($query);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1498" class="number uncovered">1498</th>

                    <td class="uncovered" >
                        <pre>               $number_results = $request-&gt;numrows();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1499" class="number uncovered">1499</th>

                    <td class="uncovered" >
                        <pre>               if ($number_results == 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1500" class="number uncovered">1500</th>

                    <td class="uncovered" >
                        <pre>                  $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1501" class="number uncovered">1501</th>

                    <td class="uncovered" >
                        <pre>                  $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_NOT_FOUND));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1502" class="number uncovered">1502</th>

                    <td class="uncovered" >
                        <pre>                  continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1503" class="number ">1503</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1504" class="number uncovered">1504</th>

                    <td class="uncovered" >
                        <pre>               $ok      = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1505" class="number uncovered">1505</th>

                    <td class="uncovered" >
                        <pre>               $ko      = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1506" class="number uncovered">1506</th>

                    <td class="uncovered" >
                        <pre>               $noright = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1507" class="number uncovered">1507</th>

                    <td class="uncovered" >
                        <pre>               foreach ($request as $line) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1508" class="number uncovered">1508</th>

                    <td class="uncovered" >
                        <pre>                  if ($link-&gt;can($line[static::getIndexName()], DELETE)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1509" class="number uncovered">1509</th>

                    <td class="uncovered" >
                        <pre>                     if ($link-&gt;delete([&#039;id&#039; =&gt; $line[static::getIndexName()]])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1510" class="number uncovered">1510</th>

                    <td class="uncovered" >
                        <pre>                        $ok++;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1511" class="number ">1511</th>

                    <td class="" >
                        <pre>                     } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1512" class="number uncovered">1512</th>

                    <td class="uncovered" >
                        <pre>                        $ko++;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1513" class="number uncovered">1513</th>

                    <td class="uncovered" >
                        <pre>                        $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_ON_ACTION));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1514" class="number ">1514</th>

                    <td class="" >
                        <pre>                     }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1515" class="number ">1515</th>

                    <td class="" >
                        <pre>                  } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1516" class="number uncovered">1516</th>

                    <td class="uncovered" >
                        <pre>                     $noright++;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1517" class="number uncovered">1517</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;addMessage($link-&gt;getErrorMessage(ERROR_RIGHT));</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1518" class="number ">1518</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1519" class="number ">1519</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1520" class="number uncovered">1520</th>

                    <td class="uncovered" >
                        <pre>               if ($ok == $number_results) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1521" class="number uncovered">1521</th>

                    <td class="uncovered" >
                        <pre>                  $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_OK);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1522" class="number ">1522</th>

                    <td class="" >
                        <pre>               } else {
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1523" class="number uncovered">1523</th>

                    <td class="uncovered" >
                        <pre>                  if ($noright &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1524" class="number uncovered">1524</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_NORIGHT);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1525" class="number uncovered">1525</th>

                    <td class="uncovered" >
                        <pre>                  } else if ($ko &gt; 0) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1526" class="number uncovered">1526</th>

                    <td class="uncovered" >
                        <pre>                     $ma-&gt;itemDone($item-&gt;getType(), $key, MassiveAction::ACTION_KO);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1527" class="number ">1527</th>

                    <td class="" >
                        <pre>                  }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1528" class="number ">1528</th>

                    <td class="" >
                        <pre>               }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1529" class="number ">1529</th>

                    <td class="" >
                        <pre>            }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1530" class="number uncovered">1530</th>

                    <td class="uncovered" >
                        <pre>            return;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1531" class="number ">1531</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1532" class="number ">1532</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1533" class="number uncovered">1533</th>

                    <td class="uncovered" >
                        <pre>      parent::processMassiveActionsForOneItemtype($ma, $item, $ids);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1534" class="number uncovered">1534</th>

                    <td class="uncovered" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1535" class="number ">1535</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1536" class="number ">1536</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1537" class="number ">1537</th>

                    <td class="" >
                        <pre>    * Get linked items list for specified item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1538" class="number ">1538</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1539" class="number ">1539</th>

                    <td class="" >
                        <pre>    * @since 9.3.1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1540" class="number ">1540</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1541" class="number ">1541</th>

                    <td class="" >
                        <pre>    * @param CommonDBTM $item  Item instance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1542" class="number ">1542</th>

                    <td class="" >
                        <pre>    * @param boolean    $noent Flag to not compute entity informations (see Document_Item::getListForItemParams)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1543" class="number ">1543</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1544" class="number ">1544</th>

                    <td class="" >
                        <pre>    * @return array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1545" class="number ">1545</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getListForItemParams">
                    <th id="L1546" class="number ">1546</th>

                    <td class="" id="getListForItemParams">
                        <pre>   protected static function getListForItemParams(CommonDBTM $item, $noent = false) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1547" class="number uncovered">1547</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1548" class="number ">1548</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1549" class="number uncovered">1549</th>

                    <td class="uncovered" >
                        <pre>      $inverse = $item-&gt;getType() == static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1550" class="number ">1550</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1551" class="number uncovered">1551</th>

                    <td class="uncovered" >
                        <pre>      $link_type  = static::$itemtype_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1552" class="number uncovered">1552</th>

                    <td class="uncovered" >
                        <pre>      $link_id    = static::$items_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1553" class="number uncovered">1553</th>

                    <td class="uncovered" >
                        <pre>      $where_id   = static::$items_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1554" class="number ">1554</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1555" class="number uncovered">1555</th>

                    <td class="uncovered" >
                        <pre>      if ($inverse === true) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1556" class="number uncovered">1556</th>

                    <td class="uncovered" >
                        <pre>         $link_type  = static::$itemtype_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1557" class="number uncovered">1557</th>

                    <td class="uncovered" >
                        <pre>         $link_id    = static::$items_id_2;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1558" class="number uncovered">1558</th>

                    <td class="uncovered" >
                        <pre>         $where_id   = static::$items_id_1;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1559" class="number ">1559</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1560" class="number ">1560</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1561" class="number uncovered">1561</th>

                    <td class="uncovered" >
                        <pre>      $link = new $link_type;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1562" class="number uncovered">1562</th>

                    <td class="uncovered" >
                        <pre>      $link_table = getTableForItemtype($link_type);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1563" class="number ">1563</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1564" class="number ">1564</th>

                    <td class="" >
                        <pre>      $params = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1565" class="number uncovered">1565</th>

                    <td class="uncovered" >
                        <pre>         &#039;SELECT&#039;    =&gt; [static::getTable() . &#039;.id AS linkid&#039;, $link_table . &#039;.*&#039;],</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1566" class="number uncovered">1566</th>

                    <td class="uncovered" >
                        <pre>         &#039;FROM&#039;      =&gt; static::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1567" class="number ">1567</th>

                    <td class="" >
                        <pre>         &#039;LEFT JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1568" class="number ">1568</th>

                    <td class="" >
                        <pre>            $link_table  =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1569" class="number ">1569</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039;   =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1570" class="number uncovered">1570</th>

                    <td class="uncovered" >
                        <pre>                  static::getTable()   =&gt; $link_id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1571" class="number uncovered">1571</th>

                    <td class="uncovered" >
                        <pre>                  $link_table          =&gt; &#039;id&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1572" class="number ">1572</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1573" class="number ">1573</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1574" class="number ">1574</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1575" class="number ">1575</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039;     =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1576" class="number uncovered">1576</th>

                    <td class="uncovered" >
                        <pre>            static::getTable() . &#039;.&#039; . $where_id =&gt; $item-&gt;fields[&#039;id&#039;]</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1577" class="number ">1577</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1578" class="number uncovered">1578</th>

                    <td class="uncovered" >
                        <pre>         &#039;ORDER&#039;     =&gt; $link_table . &#039;.name&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1579" class="number ">1579</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1580" class="number ">1580</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1581" class="number uncovered">1581</th>

                    <td class="uncovered" >
                        <pre>      $rel_class = static::class;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1582" class="number uncovered">1582</th>

                    <td class="uncovered" >
                        <pre>      $rel = new $rel_class();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1583" class="number uncovered">1583</th>

                    <td class="uncovered" >
                        <pre>      if ($rel-&gt;maybeDynamic()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1584" class="number uncovered">1584</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;SELECT&#039;][] = static::getTable() . &#039;.is_dynamic&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1585" class="number ">1585</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1586" class="number ">1586</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1587" class="number uncovered">1587</th>

                    <td class="uncovered" >
                        <pre>      if ($rel-&gt;maybeRecursive()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1588" class="number uncovered">1588</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;SELECT&#039;][] = static::getTable() . &#039;.is_recursive&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1589" class="number ">1589</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1590" class="number ">1590</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1591" class="number uncovered">1591</th>

                    <td class="uncovered" >
                        <pre>      if ($DB-&gt;fieldExists(static::getTable(), &#039;itemtype&#039;)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1592" class="number uncovered">1592</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;WHERE&#039;][static::getTable() . &#039;.itemtype&#039;] = $item-&gt;getType();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1593" class="number ">1593</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1594" class="number ">1594</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1595" class="number uncovered">1595</th>

                    <td class="uncovered" >
                        <pre>      if ($noent === false &amp;&amp; $link-&gt;isEntityAssign() &amp;&amp; $link_type != Entity::getType()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1596" class="number uncovered">1596</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;SELECT&#039;][] = &#039;glpi_entities.id AS entity&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1597" class="number uncovered">1597</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;INNER JOIN&#039;][&#039;glpi_entities&#039;] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1598" class="number ">1598</th>

                    <td class="" >
                        <pre>            &#039;FKEY&#039;   =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1599" class="number uncovered">1599</th>

                    <td class="uncovered" >
                        <pre>               $link_table       =&gt; &#039;entities_id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1600" class="number uncovered">1600</th>

                    <td class="uncovered" >
                        <pre>               &#039;glpi_entities&#039;   =&gt; &#039;id&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1601" class="number ">1601</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1602" class="number ">1602</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1603" class="number uncovered">1603</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;WHERE&#039;] += getEntitiesRestrictCriteria($link_table, &#039;&#039;, &#039;&#039;, true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1604" class="number uncovered">1604</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;ORDER&#039;] = [&#039;glpi_entities.completename&#039;, $params[&#039;ORDER&#039;]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1605" class="number ">1605</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1606" class="number ">1606</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1607" class="number uncovered">1607</th>

                    <td class="uncovered" >
                        <pre>      return $params;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1608" class="number unreach">1608</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1609" class="number ">1609</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1610" class="number ">1610</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1611" class="number ">1611</th>

                    <td class="" >
                        <pre>    * Get linked items list for specified item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1612" class="number ">1612</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1613" class="number ">1613</th>

                    <td class="" >
                        <pre>    * @since 9.3.1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1614" class="number ">1614</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1615" class="number ">1615</th>

                    <td class="" >
                        <pre>    * @param CommonDBTM $item Item instance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1616" class="number ">1616</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1617" class="number ">1617</th>

                    <td class="" >
                        <pre>    * @return DBmysqlIterator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1618" class="number ">1618</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getListForItem">
                    <th id="L1619" class="number ">1619</th>

                    <td class="" id="getListForItem">
                        <pre>   public static function getListForItem(CommonDBTM $item) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1620" class="number uncovered">1620</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1621" class="number ">1621</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1622" class="number uncovered">1622</th>

                    <td class="uncovered" >
                        <pre>      $params = static::getListForItemParams($item);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1623" class="number uncovered">1623</th>

                    <td class="uncovered" >
                        <pre>      $iterator = $DB-&gt;request($params);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1624" class="number ">1624</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1625" class="number uncovered">1625</th>

                    <td class="uncovered" >
                        <pre>      return $iterator;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1626" class="number unreach">1626</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1627" class="number ">1627</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1628" class="number ">1628</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1629" class="number ">1629</th>

                    <td class="" >
                        <pre>    * Get distinct item types query parameters
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1630" class="number ">1630</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1631" class="number ">1631</th>

                    <td class="" >
                        <pre>    * @since 9.3.1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1632" class="number ">1632</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1633" class="number ">1633</th>

                    <td class="" >
                        <pre>    * @param integer $items_id    Object id to restrict on
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1634" class="number ">1634</th>

                    <td class="" >
                        <pre>    * @param array   $extra_where Extra where clause
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1635" class="number ">1635</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1636" class="number ">1636</th>

                    <td class="" >
                        <pre>    * @return array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1637" class="number ">1637</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getDistinctTypesParams">
                    <th id="L1638" class="number ">1638</th>

                    <td class="" id="getDistinctTypesParams">
                        <pre>   protected static function getDistinctTypesParams($items_id, $extra_where = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1639" class="number ">1639</th>

                    <td class="" >
                        <pre>      $params = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1640" class="number uncovered">1640</th>

                    <td class="uncovered" >
                        <pre>         &#039;SELECT DISTINCT&#039; =&gt; &#039;itemtype&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1641" class="number uncovered">1641</th>

                    <td class="uncovered" >
                        <pre>         &#039;FROM&#039;            =&gt; static::getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1642" class="number ">1642</th>

                    <td class="" >
                        <pre>         &#039;WHERE&#039;           =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1643" class="number uncovered">1643</th>

                    <td class="uncovered" >
                        <pre>            static::$items_id_1  =&gt; $items_id,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1644" class="number uncovered">1644</th>

                    <td class="uncovered" >
                        <pre>         ] + $extra_where,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1645" class="number uncovered">1645</th>

                    <td class="uncovered" >
                        <pre>         &#039;ORDER&#039;           =&gt; &#039;itemtype&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1646" class="number ">1646</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1647" class="number uncovered">1647</th>

                    <td class="uncovered" >
                        <pre>      return $params;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1648" class="number unreach">1648</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1649" class="number ">1649</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1650" class="number ">1650</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1651" class="number ">1651</th>

                    <td class="" >
                        <pre>    * Get distinct item types
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1652" class="number ">1652</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1653" class="number ">1653</th>

                    <td class="" >
                        <pre>    * @since 9.3.1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1654" class="number ">1654</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1655" class="number ">1655</th>

                    <td class="" >
                        <pre>    * @param integer $items_id    Object id to restrict on
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1656" class="number ">1656</th>

                    <td class="" >
                        <pre>    * @param array   $extra_where Extra where clause
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1657" class="number ">1657</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1658" class="number ">1658</th>

                    <td class="" >
                        <pre>    * @return DBMysqlIterator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1659" class="number ">1659</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getDistinctTypes">
                    <th id="L1660" class="number ">1660</th>

                    <td class="" id="getDistinctTypes">
                        <pre>   public static function getDistinctTypes($items_id, $extra_where = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1661" class="number uncovered">1661</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1662" class="number ">1662</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1663" class="number uncovered">1663</th>

                    <td class="uncovered" >
                        <pre>      $params = static::getDistinctTypesParams($items_id, $extra_where);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1664" class="number uncovered">1664</th>

                    <td class="uncovered" >
                        <pre>      $types_iterator = $DB-&gt;request($params);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1665" class="number uncovered">1665</th>

                    <td class="uncovered" >
                        <pre>      return $types_iterator;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1666" class="number unreach">1666</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1667" class="number ">1667</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1668" class="number ">1668</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1669" class="number ">1669</th>

                    <td class="" >
                        <pre>    * Get items for an itemtype
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1670" class="number ">1670</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1671" class="number ">1671</th>

                    <td class="" >
                        <pre>    * @since 9.3.1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1672" class="number ">1672</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1673" class="number ">1673</th>

                    <td class="" >
                        <pre>    * @param integer $items_id Object id to restrict on
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1674" class="number ">1674</th>

                    <td class="" >
                        <pre>    * @param string  $itemtype Type for items to retrieve
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1675" class="number ">1675</th>

                    <td class="" >
                        <pre>    * @param boolean $noent    Flag to not compute entity informations (see Document_Item::getTypeItemsQueryParams)
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1676" class="number ">1676</th>

                    <td class="" >
                        <pre>    * @param array   $where    Inital WHERE clause. Defaults to []
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1677" class="number ">1677</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1678" class="number ">1678</th>

                    <td class="" >
                        <pre>    * @return array
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1679" class="number ">1679</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTypeItemsQueryParams">
                    <th id="L1680" class="number ">1680</th>

                    <td class="" id="getTypeItemsQueryParams">
                        <pre>   protected static function getTypeItemsQueryParams($items_id, $itemtype, $noent = false, $where = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1681" class="number uncovered">1681</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1682" class="number ">1682</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1683" class="number uncovered">1683</th>

                    <td class="uncovered" >
                        <pre>      $item = getItemForItemtype($itemtype);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1684" class="number uncovered">1684</th>

                    <td class="uncovered" >
                        <pre>      $order_col = $item-&gt;getNameField();</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1685" class="number ">1685</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1686" class="number uncovered">1686</th>

                    <td class="uncovered" >
                        <pre>      if ($item instanceof CommonDevice) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1687" class="number uncovered">1687</th>

                    <td class="uncovered" >
                        <pre>         $order_col = &quot;designation&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1688" class="number uncovered">1688</th>

                    <td class="uncovered" >
                        <pre>      } else if ($item instanceof Item_Devices) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1689" class="number uncovered">1689</th>

                    <td class="uncovered" >
                        <pre>         $order_col = &quot;itemtype&quot;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1690" class="number uncovered">1690</th>

                    <td class="uncovered" >
                        <pre>      } else if ($itemtype == &#039;Ticket&#039;) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1691" class="number uncovered">1691</th>

                    <td class="uncovered" >
                        <pre>         $order_col = &#039;id&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1692" class="number ">1692</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1693" class="number ">1693</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1694" class="number uncovered">1694</th>

                    <td class="uncovered" >
                        <pre>      if (!count($where)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1695" class="number uncovered">1695</th>

                    <td class="uncovered" >
                        <pre>         $where = [static::getTable() . &#039;.&#039; . static::$items_id_1  =&gt; $items_id];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1696" class="number ">1696</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1697" class="number ">1697</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1698" class="number ">1698</th>

                    <td class="" >
                        <pre>      $params = [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1699" class="number ">1699</th>

                    <td class="" >
                        <pre>         &#039;SELECT&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1700" class="number uncovered">1700</th>

                    <td class="uncovered" >
                        <pre>            $item-&gt;getTable() . &#039;.*&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1701" class="number uncovered">1701</th>

                    <td class="uncovered" >
                        <pre>            static::getTable() . &#039;.id AS linkid&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1702" class="number ">1702</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1703" class="number uncovered">1703</th>

                    <td class="uncovered" >
                        <pre>         &#039;FROM&#039;   =&gt; $item-&gt;getTable(),</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1704" class="number uncovered">1704</th>

                    <td class="uncovered" >
                        <pre>         &#039;WHERE&#039;  =&gt; $where,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1705" class="number ">1705</th>

                    <td class="" >
                        <pre>         &#039;LEFT JOIN&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1706" class="number uncovered">1706</th>

                    <td class="uncovered" >
                        <pre>            static::getTable() =&gt; [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1707" class="number ">1707</th>

                    <td class="" >
                        <pre>               &#039;FKEY&#039; =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1708" class="number uncovered">1708</th>

                    <td class="uncovered" >
                        <pre>                  static::getTable()   =&gt; &#039;items_id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1709" class="number uncovered">1709</th>

                    <td class="uncovered" >
                        <pre>                  $item-&gt;getTable()    =&gt; &#039;id&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1710" class="number ">1710</th>

                    <td class="" >
                        <pre>               ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1711" class="number ">1711</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1712" class="number ">1712</th>

                    <td class="" >
                        <pre>         ],
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1713" class="number uncovered">1713</th>

                    <td class="uncovered" >
                        <pre>         &#039;ORDER&#039;     =&gt; $item-&gt;getTable() . &#039;.&#039; . $order_col</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1714" class="number ">1714</th>

                    <td class="" >
                        <pre>      ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1715" class="number ">1715</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1716" class="number uncovered">1716</th>

                    <td class="uncovered" >
                        <pre>      if ($DB-&gt;fieldExists(static::getTable(), &#039;itemtype&#039;)) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1717" class="number uncovered">1717</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;WHERE&#039;][static::getTable() . &#039;.itemtype&#039;] = $itemtype;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1718" class="number ">1718</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1719" class="number ">1719</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1720" class="number uncovered">1720</th>

                    <td class="uncovered" >
                        <pre>      if ($item-&gt;maybeTemplate()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1721" class="number uncovered">1721</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;WHERE&#039;][$item-&gt;getTable() . &#039;.is_template&#039;] = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1722" class="number ">1722</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1723" class="number ">1723</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1724" class="number uncovered">1724</th>

                    <td class="uncovered" >
                        <pre>      if ($noent === false &amp;&amp; $item-&gt;isEntityAssign() &amp;&amp; $itemtype != Entity::getType()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1725" class="number uncovered">1725</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;SELECT&#039;][] = &#039;glpi_entities.id AS entity&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1726" class="number uncovered">1726</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;LEFT JOIN&#039;][&#039;glpi_entities&#039;] = [</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1727" class="number ">1727</th>

                    <td class="" >
                        <pre>            &#039;FKEY&#039;   =&gt; [
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1728" class="number uncovered">1728</th>

                    <td class="uncovered" >
                        <pre>               $item-&gt;getTable() =&gt; &#039;entities_id&#039;,</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1729" class="number uncovered">1729</th>

                    <td class="uncovered" >
                        <pre>               &#039;glpi_entities&#039;   =&gt; &#039;id&#039;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1730" class="number ">1730</th>

                    <td class="" >
                        <pre>            ]
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1731" class="number ">1731</th>

                    <td class="" >
                        <pre>         ];
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1732" class="number uncovered">1732</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;WHERE&#039;] += getEntitiesRestrictCriteria($item-&gt;getTable(), &#039;&#039;, &#039;&#039;, true);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1733" class="number uncovered">1733</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;ORDER&#039;] = [&#039;glpi_entities.completename&#039;, $params[&#039;ORDER&#039;]];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1734" class="number ">1734</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1735" class="number ">1735</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1736" class="number uncovered">1736</th>

                    <td class="uncovered" >
                        <pre>      return $params;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1737" class="number unreach">1737</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1738" class="number ">1738</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1739" class="number ">1739</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1740" class="number ">1740</th>

                    <td class="" >
                        <pre>    * Get items for an itemtype
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1741" class="number ">1741</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1742" class="number ">1742</th>

                    <td class="" >
                        <pre>    * @since 9.3.1
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1743" class="number ">1743</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1744" class="number ">1744</th>

                    <td class="" >
                        <pre>    * @param integer $items_id Object id to restrict on
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1745" class="number ">1745</th>

                    <td class="" >
                        <pre>    * @param string  $itemtype Type for items to retrieve
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1746" class="number ">1746</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1747" class="number ">1747</th>

                    <td class="" >
                        <pre>    * @return DBMysqlIterator
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1748" class="number ">1748</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="getTypeItems">
                    <th id="L1749" class="number ">1749</th>

                    <td class="" id="getTypeItems">
                        <pre>   public static function getTypeItems($items_id, $itemtype) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1750" class="number uncovered">1750</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1751" class="number ">1751</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1752" class="number uncovered">1752</th>

                    <td class="uncovered" >
                        <pre>      $params = static::getTypeItemsQueryParams($items_id, $itemtype);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1753" class="number uncovered">1753</th>

                    <td class="uncovered" >
                        <pre>      $iterator = $DB-&gt;request($params);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1754" class="number ">1754</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1755" class="number uncovered">1755</th>

                    <td class="uncovered" >
                        <pre>      return $iterator;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1756" class="number unreach">1756</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1757" class="number ">1757</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1758" class="number ">1758</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1759" class="number ">1759</th>

                    <td class="" >
                        <pre>    * Count for item
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1760" class="number ">1760</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1761" class="number ">1761</th>

                    <td class="" >
                        <pre>    * @param CommonDBTM $item CommonDBTM object
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1762" class="number ">1762</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1763" class="number ">1763</th>

                    <td class="" >
                        <pre>    * @return integer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1764" class="number ">1764</th>

                    <td class="" >
                        <pre>    */
</pre>
                    </td>
                </tr>
                            <tr class="line" id="countForItem">
                    <th id="L1765" class="number ">1765</th>

                    <td class="" id="countForItem">
                        <pre>   static function countForItem(CommonDBTM $item) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1766" class="number uncovered">1766</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1767" class="number ">1767</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1768" class="number uncovered">1768</th>

                    <td class="uncovered" >
                        <pre>      $params = static::getListForItemParams($item);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1769" class="number uncovered">1769</th>

                    <td class="uncovered" >
                        <pre>      unset($params[&#039;SELECT&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1770" class="number uncovered">1770</th>

                    <td class="uncovered" >
                        <pre>      $params[&#039;COUNT&#039;] = &#039;cpt&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1771" class="number uncovered">1771</th>

                    <td class="uncovered" >
                        <pre>      $iterator = $DB-&gt;request($params);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1772" class="number ">1772</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1773" class="number uncovered">1773</th>

                    <td class="uncovered" >
                        <pre>      $cpt = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1774" class="number uncovered">1774</th>

                    <td class="uncovered" >
                        <pre>      while ($row = $iterator-&gt;next()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1775" class="number uncovered">1775</th>

                    <td class="uncovered" >
                        <pre>         $cpt += $row[&#039;cpt&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1776" class="number ">1776</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1777" class="number ">1777</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1778" class="number uncovered">1778</th>

                    <td class="uncovered" >
                        <pre>      return $cpt;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1779" class="number unreach">1779</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1780" class="number ">1780</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1781" class="number ">1781</th>

                    <td class="" >
                        <pre>   /**
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1782" class="number ">1782</th>

                    <td class="" >
                        <pre>    * Count items for main itemtype
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1783" class="number ">1783</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1784" class="number ">1784</th>

                    <td class="" >
                        <pre>    * @param CommonDBTM $item              Item instance
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1785" class="number ">1785</th>

                    <td class="" >
                        <pre>    * @param array      $extra_types_where Extra WHERE clause on types
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1786" class="number ">1786</th>

                    <td class="" >
                        <pre>    *
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1787" class="number ">1787</th>

                    <td class="" >
                        <pre>    * @return integer
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1788" class="number ">1788</th>

                    <td class="" >
                        <pre>   **/
</pre>
                    </td>
                </tr>
                            <tr class="line" id="countForMainItem">
                    <th id="L1789" class="number ">1789</th>

                    <td class="" id="countForMainItem">
                        <pre>   static function countForMainItem(CommonDBTM $item, $extra_types_where = []) {<span class="label label-danger">0%</span><div class="btn-group"></div></pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1790" class="number uncovered">1790</th>

                    <td class="uncovered" >
                        <pre>      global $DB;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1791" class="number ">1791</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1792" class="number uncovered">1792</th>

                    <td class="uncovered" >
                        <pre>      $nb = 0;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1793" class="number ">1793</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1794" class="number uncovered">1794</th>

                    <td class="uncovered" >
                        <pre>      $types_iterator = static::getDistinctTypes($item-&gt;fields[&#039;id&#039;], $extra_types_where);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1795" class="number uncovered">1795</th>

                    <td class="uncovered" >
                        <pre>      while ($data = $types_iterator-&gt;next()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1796" class="number uncovered">1796</th>

                    <td class="uncovered" >
                        <pre>         if (!$itemt = getItemForItemtype($data[&#039;itemtype&#039;])) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1797" class="number uncovered">1797</th>

                    <td class="uncovered" >
                        <pre>            continue;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1798" class="number ">1798</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1799" class="number ">1799</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1800" class="number uncovered">1800</th>

                    <td class="uncovered" >
                        <pre>         $params = static::getTypeItemsQueryParams($item-&gt;fields[&#039;id&#039;], $data[&#039;itemtype&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1801" class="number uncovered">1801</th>

                    <td class="uncovered" >
                        <pre>         unset($params[&#039;SELECT&#039;]);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1802" class="number uncovered">1802</th>

                    <td class="uncovered" >
                        <pre>         $params[&#039;COUNT&#039;] = &#039;cpt&#039;;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1803" class="number uncovered">1803</th>

                    <td class="uncovered" >
                        <pre>         $iterator = $DB-&gt;request($params);</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1804" class="number ">1804</th>

                    <td class="" >
                        <pre>
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1805" class="number uncovered">1805</th>

                    <td class="uncovered" >
                        <pre>         while ($row = $iterator-&gt;next()) {</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1806" class="number uncovered">1806</th>

                    <td class="uncovered" >
                        <pre>            $nb += $row[&#039;cpt&#039;];</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1807" class="number ">1807</th>

                    <td class="" >
                        <pre>         }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1808" class="number ">1808</th>

                    <td class="" >
                        <pre>      }
</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1809" class="number uncovered">1809</th>

                    <td class="uncovered" >
                        <pre>      return $nb;</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1810" class="number unreach">1810</th>

                    <td class="unreach" >
                        <pre>   }</pre>
                    </td>
                </tr>
                            <tr class="line" id="">
                    <th id="L1811" class="number ">1811</th>

                    <td class="" >
                        <pre>}
</pre>
                    </td>
                </tr>
                        </tbody>
        </table>
    </div>
    </div>

    <footer class="row">
        <div class="col-lg-12">
            <small class="pull-right">Powered by <a href="http://atoum.org"><img src="assets/logo.png" alt="atoum"/></a></small>
        </div>
    </footer>
</div>

<script>
    $(function() {
        $('table.sort').tablesorter();
    })
</script>

</body>

</html>
